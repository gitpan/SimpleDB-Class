    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::NYTProf version 3.11
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <title>Profile of /data/SimpleDB-Class/author.t/../lib/SimpleDB/Class/Item.pm</title>
<link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="js/jquery-min.js"></script> 

    <script type="text/javascript" src="js/jquery-tablesorter-min.js"></script> 
    <link rel="stylesheet" type="text/css" href="js/style-tablesorter.css" />
    <script type="text/javascript">
    // when a column is first clicked on to sort it, use descending order
    // XXX doesn't seem to work (and not just because the tablesorter formatSortingOrder() is broken)
    $.tablesorter.defaults.sortInitialOrder = "desc";
    // add parser through the tablesorter addParser method 
    $.tablesorter.addParser({
        id: 'fmt_time',   // name of this parser
        is: function(s) { 
            return false; // return false so this parser is not auto detected 
        }, 
        format: function(orig) { // format data for normalization 
            // console.log(orig);
            val = orig.replace(/ns/,'');
            if (val != orig) { return val / (1000*1000*1000); } 
            val = orig.replace(/Âµs/,''); /* XXX use &micro; ? */
            if (val != orig) { return val / (1000*1000); } 
            var val = orig.replace(/ms/,'');
            if (val != orig) { return val / (1000); }
            var val = orig.replace(/s/,'');
            if (val != orig) { return val; }
            if (orig == '0') { return orig; } 
            console.log('no match for fmt_time of '.concat(orig));
            return orig;
        },
        type: 'numeric' // set type, either numeric or text 
    }); 
    </script> 
</head>
<body > 
<div class="header" style="position: relative; overflow-x: hidden; overflow-y: hidden; z-index: 0; ">
<div class="header_back">
            <a href="index.html">&larr; Index</a>
        </div>
<div class="headerForeground" style="float: left">
    <span class="siteTitle">NYTProf Performance Profile</span>
    <span class="siteSubtitle">&emsp;&emsp;<span>&laquo;&emsp;<span class="mode_btn mode_btn_selected">block view</span>&emsp;&bull;&emsp;<span class="mode_btn"><a href="lib-SimpleDB-Class-Item-pm-line.html">line view</a></span>&emsp;&bull;&emsp;<span class="mode_btn"><a href="lib-SimpleDB-Class-Item-pm-sub.html">sub view</a></span>&emsp;&raquo;</span><br />
            For 05.Domain_and_Item.t
        </span>
</div>
<div class="headerForeground" style="float: right; text-align: right">
    <span class="siteTitle">&nbsp;</span>
    <span class="siteSubtitle">Run on Tue May  4 17:21:41 2010<br />Reported on Tue May  4 17:22:27 2010</span>
</div>
<div style="position: absolute; left: 0px; top: 0%; width: 100%; height: 101%; z-index: -1; background-color: rgb(17, 136, 255); "></div>
<div style="position: absolute; left: 0px; top: 2%; width: 100%; height: 99%; z-index: -1; background-color: rgb(16, 134, 253); "></div>
<div style="position: absolute; left: 0px; top: 4%; width: 100%; height: 97%; z-index: -1; background-color: rgb(16, 133, 252); "></div>
<div style="position: absolute; left: 0px; top: 6%; width: 100%; height: 95%; z-index: -1; background-color: rgb(15, 131, 250); "></div>
<div style="position: absolute; left: 0px; top: 8%; width: 100%; height: 93%; z-index: -1; background-color: rgb(15, 130, 249); "></div>
<div style="position: absolute; left: 0px; top: 10%; width: 100%; height: 91%; z-index: -1; background-color: rgb(15, 129, 248); "></div>
<div style="position: absolute; left: 0px; top: 12%; width: 100%; height: 89%; z-index: -1; background-color: rgb(14, 127, 246); "></div>
<div style="position: absolute; left: 0px; top: 14%; width: 100%; height: 87%; z-index: -1; background-color: rgb(14, 126, 245); "></div>
<div style="position: absolute; left: 0px; top: 16%; width: 100%; height: 85%; z-index: -1; background-color: rgb(14, 125, 244); "></div>
<div style="position: absolute; left: 0px; top: 18%; width: 100%; height: 83%; z-index: -1; background-color: rgb(13, 123, 242); "></div>
<div style="position: absolute; left: 0px; top: 20%; width: 100%; height: 81%; z-index: -1; background-color: rgb(13, 122, 241); "></div>
<div style="position: absolute; left: 0px; top: 22%; width: 100%; height: 79%; z-index: -1; background-color: rgb(13, 121, 240); "></div>
<div style="position: absolute; left: 0px; top: 24%; width: 100%; height: 77%; z-index: -1; background-color: rgb(12, 119, 238); "></div>
<div style="position: absolute; left: 0px; top: 26%; width: 100%; height: 75%; z-index: -1; background-color: rgb(12, 118, 237); "></div>
<div style="position: absolute; left: 0px; top: 28%; width: 100%; height: 73%; z-index: -1; background-color: rgb(12, 116, 235); "></div>
<div style="position: absolute; left: 0px; top: 30%; width: 100%; height: 71%; z-index: -1; background-color: rgb(11, 115, 234); "></div>
<div style="position: absolute; left: 0px; top: 32%; width: 100%; height: 69%; z-index: -1; background-color: rgb(11, 114, 233); "></div>
<div style="position: absolute; left: 0px; top: 34%; width: 100%; height: 67%; z-index: -1; background-color: rgb(11, 112, 231); "></div>
<div style="position: absolute; left: 0px; top: 36%; width: 100%; height: 65%; z-index: -1; background-color: rgb(10, 111, 230); "></div>
<div style="position: absolute; left: 0px; top: 38%; width: 100%; height: 63%; z-index: -1; background-color: rgb(10, 110, 229); "></div>
<div style="position: absolute; left: 0px; top: 40%; width: 100%; height: 61%; z-index: -1; background-color: rgb(10, 108, 227); "></div>
<div style="position: absolute; left: 0px; top: 42%; width: 100%; height: 59%; z-index: -1; background-color: rgb(9, 107, 226); "></div>
<div style="position: absolute; left: 0px; top: 44%; width: 100%; height: 57%; z-index: -1; background-color: rgb(9, 106, 225); "></div>
<div style="position: absolute; left: 0px; top: 46%; width: 100%; height: 55%; z-index: -1; background-color: rgb(9, 104, 223); "></div>
<div style="position: absolute; left: 0px; top: 48%; width: 100%; height: 53%; z-index: -1; background-color: rgb(8, 103, 222); "></div>
<div style="position: absolute; left: 0px; top: 50%; width: 100%; height: 51%; z-index: -1; background-color: rgb(8, 102, 221); "></div>
<div style="position: absolute; left: 0px; top: 52%; width: 100%; height: 49%; z-index: -1; background-color: rgb(8, 100, 219); "></div>
<div style="position: absolute; left: 0px; top: 54%; width: 100%; height: 47%; z-index: -1; background-color: rgb(7, 99, 218); "></div>
<div style="position: absolute; left: 0px; top: 56%; width: 100%; height: 45%; z-index: -1; background-color: rgb(7, 97, 216); "></div>
<div style="position: absolute; left: 0px; top: 58%; width: 100%; height: 43%; z-index: -1; background-color: rgb(7, 96, 215); "></div>
<div style="position: absolute; left: 0px; top: 60%; width: 100%; height: 41%; z-index: -1; background-color: rgb(6, 95, 214); "></div>
<div style="position: absolute; left: 0px; top: 62%; width: 100%; height: 39%; z-index: -1; background-color: rgb(6, 93, 212); "></div>
<div style="position: absolute; left: 0px; top: 64%; width: 100%; height: 37%; z-index: -1; background-color: rgb(6, 92, 211); "></div>
<div style="position: absolute; left: 0px; top: 66%; width: 100%; height: 35%; z-index: -1; background-color: rgb(5, 91, 210); "></div>
<div style="position: absolute; left: 0px; top: 68%; width: 100%; height: 33%; z-index: -1; background-color: rgb(5, 89, 208); "></div>
<div style="position: absolute; left: 0px; top: 70%; width: 100%; height: 31%; z-index: -1; background-color: rgb(5, 88, 207); "></div>
<div style="position: absolute; left: 0px; top: 72%; width: 100%; height: 29%; z-index: -1; background-color: rgb(4, 87, 206); "></div>
<div style="position: absolute; left: 0px; top: 74%; width: 100%; height: 27%; z-index: -1; background-color: rgb(4, 85, 204); "></div>
<div style="position: absolute; left: 0px; top: 76%; width: 100%; height: 25%; z-index: -1; background-color: rgb(4, 84, 203); "></div>
<div style="position: absolute; left: 0px; top: 78%; width: 100%; height: 23%; z-index: -1; background-color: rgb(3, 82, 201); "></div>
<div style="position: absolute; left: 0px; top: 80%; width: 100%; height: 21%; z-index: -1; background-color: rgb(3, 81, 200); "></div>
<div style="position: absolute; left: 0px; top: 82%; width: 100%; height: 19%; z-index: -1; background-color: rgb(3, 80, 199); "></div>
<div style="position: absolute; left: 0px; top: 84%; width: 100%; height: 17%; z-index: -1; background-color: rgb(2, 78, 197); "></div>
<div style="position: absolute; left: 0px; top: 86%; width: 100%; height: 15%; z-index: -1; background-color: rgb(2, 77, 196); "></div>
<div style="position: absolute; left: 0px; top: 88%; width: 100%; height: 13%; z-index: -1; background-color: rgb(2, 76, 195); "></div>
<div style="position: absolute; left: 0px; top: 90%; width: 100%; height: 11%; z-index: -1; background-color: rgb(1, 74, 193); "></div>
<div style="position: absolute; left: 0px; top: 92%; width: 100%; height: 9%; z-index: -1; background-color: rgb(1, 73, 192); "></div>
<div style="position: absolute; left: 0px; top: 94%; width: 100%; height: 7%; z-index: -1; background-color: rgb(1, 72, 191); "></div>
<div style="position: absolute; left: 0px; top: 96%; width: 100%; height: 5%; z-index: -1; background-color: rgb(0, 70, 189); "></div>
<div style="position: absolute; left: 0px; top: 98%; width: 100%; height: 3%; z-index: -1; background-color: rgb(0, 69, 188); "></div>
<div style="position: absolute; left: 0px; top: 100%; width: 100%; height: 1%; z-index: -1; background-color: rgb(0, 68, 187); "></div>
</div>

<div class="body_content">
<br />
<table>
<tr>
<td class="h" align="right">File</td>
<td align="left">/data/SimpleDB-Class/author.t/../lib/SimpleDB/Class/Item.pm</td>
</tr>
<tr>
<td class="h" align="right">Statements Executed</td>
<td align="left">2112</td>
</tr>
<tr>
<td class="h" align="right">Statement Execution Time</td>
<td align="left">7.52ms</td>
</tr>
</table>

        
        <table id="subs_table" border="1" cellpadding="0" class="tablesorter">
        <caption>Subroutines &mdash; ordered by exclusive time</caption>
        <thead>
        <tr>
        <th>Calls</th>
        <th><span title="Number of Places sub is called from">P</span></th>
        <th><span title="Number of Files sub is called from">F</span></th>
        <th>Exclusive<br />Time</th>
        <th>Inclusive<br />Time</th>
        <th>Subroutine</th>
        </tr>
        </thead>
    <tbody>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">2.62ms</span></td><td class="c0"><span title="0.1%">11.2ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::BEGIN@18</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#18">BEGIN@18</a></span></td></tr>
<tr><td class="c0">12</td><td class="c1">2</td><td class="c1">2</td><td class="c0"><span title="0.0%">2.14ms</span></td><td class="c0"><span title="24.4%">4.18s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::put</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#474">put</a></span></td></tr>
<tr><td class="c0">79</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">1.66ms</span></td><td class="c0"><span title="0.1%">17.7ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::stringify_values</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#608">stringify_values</a></span></td></tr>
<tr><td class="c0">18</td><td class="c0">4</td><td class="c0">4</td><td class="c0"><span title="0.0%">809&micro;s</span></td><td class="c0"><span title="0.0%">6.33ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::to_hashref</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#510">to_hashref</a></span></td></tr>
<tr><td class="c0">22</td><td class="c0">3</td><td class="c3">1</td><td class="c0"><span title="0.0%">456&micro;s</span></td><td class="c1"><span title="0.0%">4.37ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::stringify_value</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#569">stringify_value</a></span></td></tr>
<tr><td class="c0">89</td><td class="c1">2</td><td class="c1">2</td><td class="c0"><span title="0.0%">451&micro;s</span></td><td class="c3"><span title="0.0%">963&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::CORE:match</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#SimpleDB__Class__Item__CORE_match">CORE:match</a>&nbsp;(opcode)</span></td></tr>
<tr><td class="c3">4</td><td class="c0">4</td><td class="c0">4</td><td class="c0"><span title="0.0%">345&micro;s</span></td><td class="c0"><span title="0.1%">17.0ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::add_attributes</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#83">add_attributes</a></span></td></tr>
<tr><td class="c3">4</td><td class="c1">2</td><td class="c3">1</td><td class="c1"><span title="0.0%">109&micro;s</span></td><td class="c0"><span title="0.1%">11.2ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::parse_value</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#536">parse_value</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c2"><span title="0.0%">84&micro;s</span></td><td class="c0"><span title="1.9%">320ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::copy</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#405">copy</a></span></td></tr>
<tr><td class="c0">32</td><td class="c3">1</td><td class="c3">1</td><td class="c2"><span title="0.0%">83&micro;s</span></td><td class="c3"><span title="0.0%">83&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::_castor_attribute</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#319">_castor_attribute</a></span></td></tr>
<tr><td class="c3">2</td><td class="c1">2</td><td class="c1">2</td><td class="c3"><span title="0.0%">60&micro;s</span></td><td class="c1"><span title="0.0%">4.04ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::belongs_to</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#261">belongs_to</a></span></td></tr>
<tr><td class="c3">3</td><td class="c0">3</td><td class="c0">3</td><td class="c3"><span title="0.0%">54&micro;s</span></td><td class="c3"><span title="0.0%">92&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::set_domain_name</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#45">set_domain_name</a></span></td></tr>
<tr><td class="c0">10</td><td class="c0">4</td><td class="c3">1</td><td class="c3"><span title="0.0%">52&micro;s</span></td><td class="c3"><span title="0.0%">68&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::_install_sub</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#23">_install_sub</a></span></td></tr>
<tr><td class="c1">9</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">44&micro;s</span></td><td class="c3"><span title="0.0%">1.63ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::generate_uuid</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#462">generate_uuid</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">39&micro;s</span></td><td class="c3"><span title="0.0%">500&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::update</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#335">update</a></span></td></tr>
<tr><td class="c3">5</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">38&micro;s</span></td><td class="c2"><span title="0.0%">2.91ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:87]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#87">__ANON__[../lib/SimpleDB/Class/Item.pm:87]</a></span></td></tr>
<tr><td class="c3">2</td><td class="c1">2</td><td class="c1">2</td><td class="c3"><span title="0.0%">32&micro;s</span></td><td class="c3"><span title="0.0%">42&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::has_many</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#179">has_many</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">31&micro;s</span></td><td class="c3"><span title="0.0%">1.29ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:280]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#268">__ANON__[../lib/SimpleDB/Class/Item.pm:280]</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">29&micro;s</span></td><td class="c3"><span title="0.0%">2.16ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::BEGIN@17</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#17">BEGIN@17</a></span></td></tr>
<tr><td class="c1">8</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">22&micro;s</span></td><td class="c3"><span title="0.0%">22&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:90]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#90">__ANON__[../lib/SimpleDB/Class/Item.pm:90]</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">19&micro;s</span></td><td class="c1"><span title="0.0%">3.60ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::BEGIN@19</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#19">BEGIN@19</a></span></td></tr>
<tr><td class="c3">4</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">11&micro;s</span></td><td class="c3"><span title="0.0%">11&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:92]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#92">__ANON__[../lib/SimpleDB/Class/Item.pm:92]</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">9&micro;s</span></td><td class="c3"><span title="0.0%">15&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::recast_using</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#314">recast_using</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">8&micro;s</span></td><td class="c3"><span title="0.0%">26&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::BEGIN@25</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#25">BEGIN@25</a></span></td></tr>
<tr><td class="c3">3</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">6&micro;s</span></td><td class="c3"><span title="0.0%">6&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::attributes</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#299">attributes</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">5&micro;s</span></td><td class="c3"><span title="0.0%">5&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::BEGIN@20</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#20">BEGIN@20</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:113]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#113">__ANON__[../lib/SimpleDB/Class/Item.pm:113]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:208]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#181">__ANON__[../lib/SimpleDB/Class/Item.pm:208]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:289]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#284">__ANON__[../lib/SimpleDB/Class/Item.pm:289]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:316]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#316">__ANON__[../lib/SimpleDB/Class/Item.pm:316]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:48]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#48">__ANON__[../lib/SimpleDB/Class/Item.pm:48]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:89]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#89">__ANON__[../lib/SimpleDB/Class/Item.pm:89]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::__ANON__[../lib/SimpleDB/Class/Item.pm:91]</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#91">__ANON__[../lib/SimpleDB/Class/Item.pm:91]</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::delete</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#427">delete</a></span></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Item::::delete_attribute</span>SimpleDB::Class::Item::<a href="lib-SimpleDB-Class-Item-pm-block.html#443">delete_attribute</a></span></td></tr>

        </tbody>
        </table>
    
        Call graph for these subroutines as a <a href="http://en.wikipedia.org/wiki/Graphviz">Graphviz</a> <a href="data-SimpleDB-Class-author-t-lib-SimpleDB-Class-Item-pm.dot">dot language file</a>.
      <table border="1" cellpadding="0">
      <thead>
      <tr><th>Line</th>
      <th><span title="Number of statements executed">State<br />ments</span></th>
      <th><span title="Time spend executing statements on the line,
        excluding time spent executing statements in any called subroutines">Time<br />on line</span></th>
      <th><span title="Number of subroutines calls">Calls</span></th>
      <th><span title="Time spent in subroutines called">Time<br />in subs</span></th>
      <th class="left_indent_header">Code</th>
      </tr>

      </thead>
      <tbody>
    <tr><td class="h"><a name="1"></a>1</td><td></td><td></td><td></td><td></td><td class="s">package SimpleDB::Class::Item;</td></tr>
<tr><td class="h"><a name="2"></a>2</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="3"></a>3</td><td></td><td></td><td></td><td></td><td class="s">=head1 NAME</td></tr>
<tr><td class="h"><a name="4"></a>4</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="5"></a>5</td><td></td><td></td><td></td><td></td><td class="s">SimpleDB::Class::Item - An object representation from an item in a SimpleDB domain.</td></tr>
<tr><td class="h"><a name="6"></a>6</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="7"></a>7</td><td></td><td></td><td></td><td></td><td class="s">=head1 DESCRIPTION</td></tr>
<tr><td class="h"><a name="8"></a>8</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="9"></a>9</td><td></td><td></td><td></td><td></td><td class="s">An object representation from an item in a SimpleDB domain.</td></tr>
<tr><td class="h"><a name="10"></a>10</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="11"></a>11</td><td></td><td></td><td></td><td></td><td class="s">=head1 METHODS</td></tr>
<tr><td class="h"><a name="12"></a>12</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="13"></a>13</td><td></td><td></td><td></td><td></td><td class="s">The following methods are available from this class.</td></tr>
<tr><td class="h"><a name="14"></a>14</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="15"></a>15</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="16"></a>16</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="17"></a>17</td><td class="c3">3</td><td class="c3"><span title="Avg 10&micro;s">31&micro;s</span></td><td class="c3">2</td><td class="c1">4.30ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 2.16ms (29&micro;s+2.14) within SimpleDB::Class::Item::BEGIN@17 which was called
#    once (29&micro;s+2.14ms) by Class::MOP::__ANON__[/usr/local/lib/perl5/site_perl/5.10.1/darwin-2level/Class/MOP.pm:103] at <a href="lib-SimpleDB-Class-Item-pm-block.html#17">line 17</a></div></div>use Moose;<div class="calls"><div class="calls_out"># spent  2.16ms making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#17">SimpleDB::Class::Item::BEGIN@17</a>
# spent  2.14ms making 1 call to <a href="Moose-Exporter-pm-block.html#312">Moose::Exporter::__ANON__[Moose/Exporter.pm:389]</a></div></div></td></tr>
<tr><td class="h"><a name="18"></a>18</td><td class="c3">3</td><td class="c2"><span title="Avg 43&micro;s">130&micro;s</span></td><td class="c3">2</td><td class="c0">11.3ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 11.2ms (2.62+8.59) within SimpleDB::Class::Item::BEGIN@18 which was called
#    once (2.62ms+8.59ms) by Class::MOP::__ANON__[/usr/local/lib/perl5/site_perl/5.10.1/darwin-2level/Class/MOP.pm:103] at <a href="lib-SimpleDB-Class-Item-pm-block.html#18">line 18</a></div></div>use UUID::Tiny;<div class="calls"><div class="calls_out"># spent  11.2ms making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#18">SimpleDB::Class::Item::BEGIN@18</a>
# spent    96&micro;s making 1 call to <a href="Exporter-pm-block.html#31">Exporter::import</a></div></div></td></tr>
<tr><td class="h"><a name="19"></a>19</td><td class="c3">3</td><td class="c3"><span title="Avg 24&micro;s">72&micro;s</span></td><td class="c3">2</td><td class="c0">7.17ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 3.60ms (19&micro;s+3.58) within SimpleDB::Class::Item::BEGIN@19 which was called
#    once (19&micro;s+3.58ms) by Class::MOP::__ANON__[/usr/local/lib/perl5/site_perl/5.10.1/darwin-2level/Class/MOP.pm:103] at <a href="lib-SimpleDB-Class-Item-pm-block.html#19">line 19</a></div></div>use SimpleDB::Class::Types ':all';<div class="calls"><div class="calls_out"># spent  3.60ms making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#19">SimpleDB::Class::Item::BEGIN@19</a>
# spent  3.58ms making 1 call to <a href="MooseX-Types-Base-pm-block.html#38">MooseX::Types::Base::import</a></div></div></td></tr>
<tr><td class="h"><a name="20"></a>20</td><td class="c3">3</td><td class="c3"><span title="Avg 12&micro;s">36&micro;s</span></td><td class="c3">1</td><td class="c3">5&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 5&micro;s within SimpleDB::Class::Item::BEGIN@20 which was called
#    once (5&micro;s+0s) by Class::MOP::__ANON__[/usr/local/lib/perl5/site_perl/5.10.1/darwin-2level/Class/MOP.pm:103] at <a href="lib-SimpleDB-Class-Item-pm-block.html#20">line 20</a></div></div>use Sub::Name ();<div class="calls"><div class="calls_out"># spent     5&micro;s making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#20">SimpleDB::Class::Item::BEGIN@20</a></div></div></td></tr>
<tr><td class="h"><a name="21"></a>21</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="22"></a>22</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="23"></a>23</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 68&micro;s (52+17) within SimpleDB::Class::Item::_install_sub which was called 10 times, avg 7&micro;s/call:
# 4 times (23&micro;s+7&micro;s) by SimpleDB::Class::Item::add_attributes at <a href="lib-SimpleDB-Class-Item-pm-block.html#113">line 113</a>, avg 7&micro;s/call
# 3 times (17&micro;s+5&micro;s) by SimpleDB::Class::Item::set_domain_name at <a href="lib-SimpleDB-Class-Item-pm-block.html#48">line 48</a>, avg 7&micro;s/call
# 2 times (8&micro;s+3&micro;s) by SimpleDB::Class::Item::has_many at <a href="lib-SimpleDB-Class-Item-pm-block.html#208">line 208</a>, avg 5&micro;s/call
#    once (5&micro;s+2&micro;s) by SimpleDB::Class::Item::recast_using at <a href="lib-SimpleDB-Class-Item-pm-block.html#316">line 316</a></div></div>sub _install_sub {</td></tr>
<tr><td class="h"><a name="24"></a>24</td><td class="c1">20</td><td class="c3"><span title="Avg 4&micro;s">79&micro;s</span></td><td></td><td></td><td class="s">    my ($name, $sub) = @_;</td></tr>
<tr><td class="h"><a name="25"></a>25</td><td class="c3">3</td><td class="c0"><span title="Avg 448&micro;s">1.34ms</span></td><td class="c3">2</td><td class="c3">45&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 26&micro;s (8+18) within SimpleDB::Class::Item::BEGIN@25 which was called
#    once (8&micro;s+18&micro;s) by Class::MOP::__ANON__[/usr/local/lib/perl5/site_perl/5.10.1/darwin-2level/Class/MOP.pm:103] at <a href="lib-SimpleDB-Class-Item-pm-block.html#25">line 25</a></div></div>    no strict 'refs';<div class="calls"><div class="calls_out">    # spent    26&micro;s making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#25">SimpleDB::Class::Item::BEGIN@25</a>
    # spent    18&micro;s making 1 call to <a href="strict-pm-block.html#39">strict::unimport</a></div></div></td></tr>
<tr><td class="h"><a name="26"></a>26</td><td></td><td></td><td></td><td></td><td class="s">    *{$name} = Sub::Name::subname($name, $sub);<div class="calls"><div class="calls_out">    # spent    16&micro;s making 10 calls to <a href="Sub-Name-pm-block.html#Sub__Name__subname">Sub::Name::subname</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="27"></a>27</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="28"></a>28</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="29"></a>29</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="30"></a>30</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="31"></a>31</td><td></td><td></td><td></td><td></td><td class="s">=head2 set_domain_name ( name )</td></tr>
<tr><td class="h"><a name="32"></a>32</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="33"></a>33</td><td></td><td></td><td></td><td></td><td class="s">Class method. Used to set the SimpleDB domain name associated with a sublcass.</td></tr>
<tr><td class="h"><a name="34"></a>34</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="35"></a>35</td><td></td><td></td><td></td><td></td><td class="s">=head3 name</td></tr>
<tr><td class="h"><a name="36"></a>36</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="37"></a>37</td><td></td><td></td><td></td><td></td><td class="s">The domain name to set.</td></tr>
<tr><td class="h"><a name="38"></a>38</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="39"></a>39</td><td></td><td></td><td></td><td></td><td class="s">=head2 domain_name ( )</td></tr>
<tr><td class="h"><a name="40"></a>40</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="41"></a>41</td><td></td><td></td><td></td><td></td><td class="s">Class method. After set_domain_name() has been called, there will be a domain_name method, that will return the value of the domain name.</td></tr>
<tr><td class="h"><a name="42"></a>42</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="43"></a>43</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="44"></a>44</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="45"></a>45</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 92&micro;s (54+38) within SimpleDB::Class::Item::set_domain_name which was called 3 times, avg 31&micro;s/call:
#    once (18&micro;s+14&micro;s) by Module::Find::useall at <a href="lib-Foo-Child-pm-block.html#6">line 6 of lib/Foo/Child.pm</a>
#    once (18&micro;s+12&micro;s) by Module::Find::useall at <a href="lib-Foo-Domain-pm-block.html#6">line 6 of lib/Foo/Domain.pm</a>
#    once (18&micro;s+12&micro;s) by Module::Find::useall at <a href="lib-Foo-Parent-pm-block.html#6">line 6 of lib/Foo/Parent.pm</a></div></div>sub set_domain_name {</td></tr>
<tr><td class="h"><a name="46"></a>46</td><td class="c2">15</td><td class="c3"><span title="Avg 3&micro;s">43&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $name) = @_;</td></tr>
<tr><td class="h"><a name="47"></a>47</td><td></td><td></td><td></td><td></td><td class="s">    # inject domain_name sub</td></tr>
<tr><td class="h"><a name="48"></a>48</td><td class="c0">56</td><td class="c0"><span title="Avg 4&micro;s">214&micro;s</span></td><td class="c3">3</td><td class="c3">22&micro;s</td><td class="s">    _install_sub($class.'::domain_name', sub { return $name });<div class="calls"><div class="calls_out">    # spent    22&micro;s making 3 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#23">SimpleDB::Class::Item::_install_sub</a>, avg 7&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="49"></a>49</td><td></td><td></td><td></td><td></td><td class="s">    # register the name and class with the schema</td></tr>
<tr><td class="h"><a name="50"></a>50</td><td></td><td></td><td></td><td></td><td class="s">    my $names = SimpleDB::Class-&gt;domain_names;<div class="calls"><div class="calls_out">    # spent    11&micro;s making 3 calls to <a >SimpleDB::Class::domain_names</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="51"></a>51</td><td></td><td></td><td></td><td></td><td class="s">    $names-&gt;{$name} = $class; </td></tr>
<tr><td class="h"><a name="52"></a>52</td><td></td><td></td><td></td><td></td><td class="s">    SimpleDB::Class-&gt;domain_names($names);<div class="calls"><div class="calls_out">    # spent     5&micro;s making 3 calls to <a >SimpleDB::Class::domain_names</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="53"></a>53</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="54"></a>54</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="55"></a>55</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="56"></a>56</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="57"></a>57</td><td></td><td></td><td></td><td></td><td class="s">=head2 add_attributes ( list )</td></tr>
<tr><td class="h"><a name="58"></a>58</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="59"></a>59</td><td></td><td></td><td></td><td></td><td class="s">Class method. Adds more attributes to this class. B&lt;NOTE:&gt; This will add a method to your class which can be used as an accessor/mutator. Therefore make sure to avoid method name conflicts with this class.</td></tr>
<tr><td class="h"><a name="60"></a>60</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="61"></a>61</td><td></td><td></td><td></td><td></td><td class="s">=head3 list</td></tr>
<tr><td class="h"><a name="62"></a>62</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="63"></a>63</td><td></td><td></td><td></td><td></td><td class="s">A hashref that holds a list of attributes and their properties (a hashref itself). Example: title =&gt; { isa =&gt; 'Str', default =&gt; 'Untitled' }</td></tr>
<tr><td class="h"><a name="64"></a>64</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="65"></a>65</td><td></td><td></td><td></td><td></td><td class="s">=head4 attribute</td></tr>
<tr><td class="h"><a name="66"></a>66</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="67"></a>67</td><td></td><td></td><td></td><td></td><td class="s">The attribute name is key in the hashref.</td></tr>
<tr><td class="h"><a name="68"></a>68</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="69"></a>69</td><td></td><td></td><td></td><td></td><td class="s">=head4 isa</td></tr>
<tr><td class="h"><a name="70"></a>70</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="71"></a>71</td><td></td><td></td><td></td><td></td><td class="s">The type of data represented by this attribute. See L&lt;SimpleDB::Class::Types&gt; for the available types.</td></tr>
<tr><td class="h"><a name="72"></a>72</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="73"></a>73</td><td></td><td></td><td></td><td></td><td class="s">=head4 default</td></tr>
<tr><td class="h"><a name="74"></a>74</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="75"></a>75</td><td></td><td></td><td></td><td></td><td class="s">The default value for this attribute. This should be specified even if it is 'None' or 'Undefined' or 'Null', because actuall null queries are slow in SimpleDB.</td></tr>
<tr><td class="h"><a name="76"></a>76</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="77"></a>77</td><td></td><td></td><td></td><td></td><td class="s">=head4 trigger</td></tr>
<tr><td class="h"><a name="78"></a>78</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="79"></a>79</td><td></td><td></td><td></td><td></td><td class="s">A sub reference that will be called like a method (has reference to $self), and is also passed the new and old values of this attribute. Behind the scenes is a L&lt;Moose&gt; trigger. See also L&lt;Moose::Manual::Attributes/&quot;Triggers&quot;&gt;.</td></tr>
<tr><td class="h"><a name="80"></a>80</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="81"></a>81</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="82"></a>82</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="83"></a>83</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 17.0ms (345&micro;s+16.7) within SimpleDB::Class::Item::add_attributes which was called 4 times, avg 4.25ms/call:
#    once (152&micro;s+11.2ms) by Module::Find::useall at <a href="lib-Foo-Domain-pm-block.html#15">line 15 of lib/Foo/Domain.pm</a>
#    once (81&micro;s+2.75ms) by Module::Find::useall at <a href="lib-Foo-Child-pm-block.html#7">line 7 of lib/Foo/Child.pm</a>
#    once (62&micro;s+1.40ms) by Module::Find::useall at <a href="lib-Foo-Parent-pm-block.html#7">line 7 of lib/Foo/Parent.pm</a>
#    once (50&micro;s+1.33ms) by Module::Find::useall at <a href="lib-Foo-SubChild-pm-block.html#6">line 6 of lib/Foo/SubChild.pm</a></div></div>sub add_attributes {</td></tr>
<tr><td class="h"><a name="84"></a>84</td><td class="c1">20</td><td class="c1"><span title="Avg 9&micro;s">175&micro;s</span></td><td></td><td></td><td class="s">    my ($class, %attributes) = @_;</td></tr>
<tr><td class="h"><a name="85"></a>85</td><td></td><td></td><td></td><td></td><td class="s">    my %defaults = (</td></tr>
<tr><td class="h"><a name="86"></a>86</td><td></td><td></td><td></td><td></td><td class="s">        Str                 =&gt; '',</td></tr>
<tr><td class="h"><a name="87"></a>87</td><td class="c3">5</td><td class="c3"><span title="Avg 7&micro;s">38&micro;s</span></td><td class="c3">5</td><td class="c2">2.87ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 2.91ms (38&micro;s+2.87) within SimpleDB::Class::Item::__ANON__[../lib/SimpleDB/Class/Item.pm:87] which was called 5 times, avg 582&micro;s/call:
# 5 times (38&micro;s+2.87ms) by Class::MOP::Mixin::AttributeCore::default at <a href="Class-MOP-Mixin-AttributeCore-pm-block.html#53">line 53 of Class/MOP/Mixin/AttributeCore.pm</a>, avg 582&micro;s/call</div></div>        DateTime            =&gt; sub { DateTime-&gt;now() },<div class="calls"><div class="calls_out">        # spent  2.87ms making 5 calls to <a href="DateTime-pm-block.html#481">DateTime::now</a>, avg 575&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="88"></a>88</td><td></td><td></td><td></td><td></td><td class="s">        Int                 =&gt; 0,</td></tr>
<tr><td class="h"><a name="89"></a>89</td><td></td><td></td><td></td><td></td><td class="s">        ArrayRefOfInt       =&gt; sub { [] },</td></tr>
<tr><td class="h"><a name="90"></a>90</td><td class="c3">8</td><td class="c3"><span title="Avg 3&micro;s">25&micro;s</span></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 22&micro;s within SimpleDB::Class::Item::__ANON__[../lib/SimpleDB/Class/Item.pm:90] which was called 8 times, avg 3&micro;s/call:
# 8 times (22&micro;s+0s) by Class::MOP::Mixin::AttributeCore::default at <a href="Class-MOP-Mixin-AttributeCore-pm-block.html#53">line 53 of Class/MOP/Mixin/AttributeCore.pm</a>, avg 3&micro;s/call</div></div>        ArrayRefOfStr       =&gt; sub { [] },</td></tr>
<tr><td class="h"><a name="91"></a>91</td><td></td><td></td><td></td><td></td><td class="s">        ArrayRefOfDateTime  =&gt; sub { [] },</td></tr>
<tr><td class="h"><a name="92"></a>92</td><td class="c3">4</td><td class="c3"><span title="Avg 3&micro;s">12&micro;s</span></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 11&micro;s within SimpleDB::Class::Item::__ANON__[../lib/SimpleDB/Class/Item.pm:92] which was called 4 times, avg 3&micro;s/call:
# 4 times (11&micro;s+0s) by Class::MOP::Mixin::AttributeCore::default at <a href="Class-MOP-Mixin-AttributeCore-pm-block.html#53">line 53 of Class/MOP/Mixin/AttributeCore.pm</a>, avg 3&micro;s/call</div></div>        HashRef             =&gt; sub { {} },</td></tr>
<tr><td class="h"><a name="93"></a>93</td><td></td><td></td><td></td><td></td><td class="s">        MediumStr           =&gt; '',</td></tr>
<tr><td class="h"><a name="94"></a>94</td><td></td><td></td><td></td><td></td><td class="s">        );</td></tr>
<tr><td class="h"><a name="95"></a>95</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $name (keys %attributes) {</td></tr>
<tr><td class="h"><a name="96"></a>96</td><td class="c0">78</td><td class="c2"><span title="Avg 2&micro;s">123&micro;s</span></td><td></td><td></td><td class="s">        my $type = $attributes{$name}{isa} || 'Str';</td></tr>
<tr><td class="h"><a name="97"></a>97</td><td></td><td></td><td></td><td></td><td class="s">        my $isa = 'SimpleDB::Class::Types::Sdb'.$type;</td></tr>
<tr><td class="h"><a name="98"></a>98</td><td></td><td></td><td></td><td></td><td class="s">        my %properties = (</td></tr>
<tr><td class="h"><a name="99"></a>99</td><td></td><td></td><td></td><td></td><td class="s">            is      =&gt; 'rw',</td></tr>
<tr><td class="h"><a name="100"></a>100</td><td></td><td></td><td></td><td></td><td class="s">            isa     =&gt; $isa,</td></tr>
<tr><td class="h"><a name="101"></a>101</td><td></td><td></td><td></td><td></td><td class="s">            coerce  =&gt; 1,</td></tr>
<tr><td class="h"><a name="102"></a>102</td><td></td><td></td><td></td><td></td><td class="s">            default =&gt; $attributes{$name}{default} || $defaults{$type},</td></tr>
<tr><td class="h"><a name="103"></a>103</td><td></td><td></td><td></td><td></td><td class="s">            );</td></tr>
<tr><td class="h"><a name="104"></a>104</td><td></td><td></td><td></td><td></td><td class="s">        if ($type ne 'Str') { # don't do any work we don't have to</td></tr>
<tr><td class="h"><a name="105"></a>105</td><td></td><td></td><td></td><td></td><td class="s">            $properties{lazy} = 1;</td></tr>
<tr><td class="h"><a name="106"></a>106</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="107"></a>107</td><td></td><td></td><td></td><td></td><td class="s">        if (defined $attributes{$name}{trigger}) {</td></tr>
<tr><td class="h"><a name="108"></a>108</td><td></td><td></td><td></td><td></td><td class="s">            $properties{trigger} = $attributes{$name}{trigger};</td></tr>
<tr><td class="h"><a name="109"></a>109</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="110"></a>110</td><td></td><td></td><td></td><td></td><td class="s">        $class-&gt;meta-&gt;add_attribute($name, \%properties);<div class="calls"><div class="calls_out">        # spent  16.5ms making 13 calls to <a href="Moose-Meta-Class-pm-block.html#294">Moose::Meta::Class::add_attribute</a>, avg 1.27ms/call
        # spent    77&micro;s making  9 calls to <a >Foo::Domain::meta</a>, avg 9&micro;s/call
        # spent    24&micro;s making  2 calls to <a >Foo::Child::meta</a>, avg 12&micro;s/call
        # spent    10&micro;s making  1 call to <a >Foo::Parent::meta</a>
        # spent     9&micro;s making  1 call to <a >Foo::SubChild::meta</a></div></div></td></tr>
<tr><td class="h"><a name="111"></a>111</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="112"></a>112</td><td></td><td></td><td></td><td></td><td class="s">    my %new = (%{$class-&gt;attributes}, %attributes);<div class="calls"><div class="calls_out">    # spent     6&micro;s making 3 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#299">SimpleDB::Class::Item::attributes</a>, avg 2&micro;s/call
    # spent     2&micro;s making 1 call to <a >Foo::Child::attributes</a></div></div></td></tr>
<tr><td class="h"><a name="113"></a>113</td><td class="c1">21</td><td class="c3"><span title="Avg 4&micro;s">79&micro;s</span></td><td class="c3">4</td><td class="c3">29&micro;s</td><td class="s">    _install_sub($class.'::attributes', sub { return \%new; });<div class="calls"><div class="calls_out">    # spent    29&micro;s making 4 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#23">SimpleDB::Class::Item::_install_sub</a>, avg 7&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="114"></a>114</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="115"></a>115</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="116"></a>116</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="117"></a>117</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="118"></a>118</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="119"></a>119</td><td></td><td></td><td></td><td></td><td class="s">=head2 has_many ( method, class, attribute )</td></tr>
<tr><td class="h"><a name="120"></a>120</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="121"></a>121</td><td></td><td></td><td></td><td></td><td class="s">Class method. Sets up a 1:N relationship between this class and a child class.</td></tr>
<tr><td class="h"><a name="122"></a>122</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="123"></a>123</td><td></td><td></td><td></td><td></td><td class="s">WARNING: With this method you need to be aware that SimpleDB is eventually consistent. See L&lt;SimpleDB::Class/&quot;Eventual Consistency&quot;&gt; for details.</td></tr>
<tr><td class="h"><a name="124"></a>124</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="125"></a>125</td><td></td><td></td><td></td><td></td><td class="s">=head3 method</td></tr>
<tr><td class="h"><a name="126"></a>126</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="127"></a>127</td><td></td><td></td><td></td><td></td><td class="s">The name of the method in this class you wish to use to access the relationship with the child class.</td></tr>
<tr><td class="h"><a name="128"></a>128</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="129"></a>129</td><td></td><td></td><td></td><td></td><td class="s">=head3 class</td></tr>
<tr><td class="h"><a name="130"></a>130</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="131"></a>131</td><td></td><td></td><td></td><td></td><td class="s">The class name of the class you're creating the child relationship with.</td></tr>
<tr><td class="h"><a name="132"></a>132</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="133"></a>133</td><td></td><td></td><td></td><td></td><td class="s">=head3 attribute</td></tr>
<tr><td class="h"><a name="134"></a>134</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="135"></a>135</td><td></td><td></td><td></td><td></td><td class="s">The attribute in the child class that represents this class' id.</td></tr>
<tr><td class="h"><a name="136"></a>136</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="137"></a>137</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="138"></a>138</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="139"></a>139</td><td></td><td></td><td></td><td></td><td class="s">A hash containing options that will modify the method created.</td></tr>
<tr><td class="h"><a name="140"></a>140</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="141"></a>141</td><td></td><td></td><td></td><td></td><td class="s">=head4 mate</td></tr>
<tr><td class="h"><a name="142"></a>142</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="143"></a>143</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute that will be created in C&lt;class&gt; to refer back to this object. If specified, a reference to this object will be set in C&lt;class&gt; when it is instantiated to avoid stale references.</td></tr>
<tr><td class="h"><a name="144"></a>144</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="145"></a>145</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="146"></a>146</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="147"></a>147</td><td></td><td></td><td></td><td></td><td class="s">A boolean which can enable SimpleDB's ConsistentRead option. Defaults to 0.</td></tr>
<tr><td class="h"><a name="148"></a>148</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="149"></a>149</td><td></td><td></td><td></td><td></td><td class="s">=head2 I&lt;has_many_generated_method&gt; ( [ options ] )</td></tr>
<tr><td class="h"><a name="150"></a>150</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="151"></a>151</td><td></td><td></td><td></td><td></td><td class="s">This is the documentation for the method generated by C&lt;has_many&gt;. It returns a L&lt;SimpleDB::Class::ResultSet&gt; object with a list of the related children to this class.</td></tr>
<tr><td class="h"><a name="152"></a>152</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="153"></a>153</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="154"></a>154</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="155"></a>155</td><td></td><td></td><td></td><td></td><td class="s">A hash of options to modify the result set at run time.</td></tr>
<tr><td class="h"><a name="156"></a>156</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="157"></a>157</td><td></td><td></td><td></td><td></td><td class="s">=head4 where</td></tr>
<tr><td class="h"><a name="158"></a>158</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="159"></a>159</td><td></td><td></td><td></td><td></td><td class="s">A where clause as defined by L&lt;SimpleDB::Class::SQL&gt;. This new clause will automatically be added to the relationship clause, so whatever you specify here is only to further limit the results returned.</td></tr>
<tr><td class="h"><a name="160"></a>160</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="161"></a>161</td><td></td><td></td><td></td><td></td><td class="s">=head4 order_by </td></tr>
<tr><td class="h"><a name="162"></a>162</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="163"></a>163</td><td></td><td></td><td></td><td></td><td class="s">An order_by clause as defined by L&lt;SimpleDB::Class::SQL&gt;. By default no order is specified.</td></tr>
<tr><td class="h"><a name="164"></a>164</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="165"></a>165</td><td></td><td></td><td></td><td></td><td class="s">=head4 limit</td></tr>
<tr><td class="h"><a name="166"></a>166</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="167"></a>167</td><td></td><td></td><td></td><td></td><td class="s">A limit clause as defined by L&lt;SimpleDB::Class::SQL&gt;. By default all items in the relationship will be returned.</td></tr>
<tr><td class="h"><a name="168"></a>168</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="169"></a>169</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="170"></a>170</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="171"></a>171</td><td></td><td></td><td></td><td></td><td class="s">A boolean that can enable SimpleDB's ConsistentRead option. Setting this will override whatever was set in C&lt;has_many&gt;, if anything.</td></tr>
<tr><td class="h"><a name="172"></a>172</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="173"></a>173</td><td></td><td></td><td></td><td></td><td class="s">=head4 set</td></tr>
<tr><td class="h"><a name="174"></a>174</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="175"></a>175</td><td></td><td></td><td></td><td></td><td class="s">A hash reference of attribute names and values that will be applied to each object returned from the result set. The C&lt;mate&gt; option in C&lt;has_many&gt; can already set one of these.</td></tr>
<tr><td class="h"><a name="176"></a>176</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="177"></a>177</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="178"></a>178</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="179"></a>179</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 42&micro;s (32+11) within SimpleDB::Class::Item::has_many which was called 2 times, avg 21&micro;s/call:
#    once (19&micro;s+5&micro;s) by Module::Find::useall at <a href="lib-Foo-Parent-pm-block.html#8">line 8 of lib/Foo/Parent.pm</a>
#    once (13&micro;s+5&micro;s) by Module::Find::useall at <a href="lib-Foo-Domain-pm-block.html#23">line 23 of lib/Foo/Domain.pm</a></div></div>sub has_many {</td></tr>
<tr><td class="h"><a name="180"></a>180</td><td class="c3">4</td><td class="c3"><span title="Avg 8&micro;s">31&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $name, $classname, $attribute, %options) = @_;</td></tr>
<tr><td class="h"><a name="181"></a>181</td><td></td><td></td><td></td><td></td><td class="s">    _install_sub($class.'::'.$name, sub { </td></tr>
<tr><td class="h"><a name="182"></a>182</td><td class="c0">30</td><td class="c3"><span title="Avg 3&micro;s">101&micro;s</span></td><td></td><td></td><td class="s">        my ($self, %sub_options) = @_; </td></tr>
<tr><td class="h"><a name="183"></a>183</td><td></td><td></td><td></td><td></td><td class="s">        my %search_options = (<div class="calls"><div class="calls_out">        # spent    17&micro;s making 3 calls to <a >SimpleDB::Class::Item::id</a>, avg 6&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="184"></a>184</td><td></td><td></td><td></td><td></td><td class="s">            where =&gt; {$attribute =&gt; $self-&gt;id},</td></tr>
<tr><td class="h"><a name="185"></a>185</td><td></td><td></td><td></td><td></td><td class="s">        );</td></tr>
<tr><td class="h"><a name="186"></a>186</td><td></td><td></td><td></td><td></td><td class="s">        if (exists $sub_options{where}) {</td></tr>
<tr><td class="h"><a name="187"></a>187</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{where}{'-and'} = $sub_options{where};</td></tr>
<tr><td class="h"><a name="188"></a>188</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="189"></a>189</td><td></td><td></td><td></td><td></td><td class="s">        if ($sub_options{order_by}) {</td></tr>
<tr><td class="h"><a name="190"></a>190</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{order_by} = $sub_options{order_by};</td></tr>
<tr><td class="h"><a name="191"></a>191</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="192"></a>192</td><td></td><td></td><td></td><td></td><td class="s">        if ($sub_options{limit}) {</td></tr>
<tr><td class="h"><a name="193"></a>193</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{limit} = $sub_options{limit};</td></tr>
<tr><td class="h"><a name="194"></a>194</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="195"></a>195</td><td></td><td></td><td></td><td></td><td class="s">        if (exists $sub_options{set}) {</td></tr>
<tr><td class="h"><a name="196"></a>196</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{set} = $sub_options{set};</td></tr>
<tr><td class="h"><a name="197"></a>197</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="198"></a>198</td><td></td><td></td><td></td><td></td><td class="s">        if ($options{mate}) {</td></tr>
<tr><td class="h"><a name="199"></a>199</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{set}{$options{mate}} = $self;</td></tr>
<tr><td class="h"><a name="200"></a>200</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="201"></a>201</td><td></td><td></td><td></td><td></td><td class="s">        if (exists $options{consistent}) {</td></tr>
<tr><td class="h"><a name="202"></a>202</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{consistent} = $options{consistent};</td></tr>
<tr><td class="h"><a name="203"></a>203</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="204"></a>204</td><td></td><td></td><td></td><td></td><td class="s">        if (exists $sub_options{consistent}) {</td></tr>
<tr><td class="h"><a name="205"></a>205</td><td></td><td></td><td></td><td></td><td class="s">            $search_options{consistent} = $sub_options{consistent};</td></tr>
<tr><td class="h"><a name="206"></a>206</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="207"></a>207</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;simpledb-&gt;domain($classname)-&gt;search(%search_options); <div class="calls"><div class="calls_out">        # spent   426&micro;s making 3 calls to <a href="lib-SimpleDB-Class-Domain-pm-block.html#445">SimpleDB::Class::Domain::search</a>, avg 142&micro;s/call
        # spent   246&micro;s making 3 calls to <a href="lib-SimpleDB-Class-pm-block.html#356">SimpleDB::Class::domain</a>, avg 82&micro;s/call
        # spent    11&micro;s making 3 calls to <a >SimpleDB::Class::Item::simpledb</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="208"></a>208</td><td></td><td></td><td></td><td></td><td class="s">    });<div class="calls"><div class="calls_out">    # spent    11&micro;s making 2 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#23">SimpleDB::Class::Item::_install_sub</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="209"></a>209</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="210"></a>210</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="211"></a>211</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="212"></a>212</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="213"></a>213</td><td></td><td></td><td></td><td></td><td class="s">=head2 belongs_to ( method, class, attribute )</td></tr>
<tr><td class="h"><a name="214"></a>214</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="215"></a>215</td><td></td><td></td><td></td><td></td><td class="s">Class method. Adds a 1:N relationship between another class and this one.</td></tr>
<tr><td class="h"><a name="216"></a>216</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="217"></a>217</td><td></td><td></td><td></td><td></td><td class="s">=head3 method</td></tr>
<tr><td class="h"><a name="218"></a>218</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="219"></a>219</td><td></td><td></td><td></td><td></td><td class="s">The method name to create to represent this relationship in this class. </td></tr>
<tr><td class="h"><a name="220"></a>220</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="221"></a>221</td><td></td><td></td><td></td><td></td><td class="s">=head3 class</td></tr>
<tr><td class="h"><a name="222"></a>222</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="223"></a>223</td><td></td><td></td><td></td><td></td><td class="s">The class name of the parent class you're relating this class to.</td></tr>
<tr><td class="h"><a name="224"></a>224</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="225"></a>225</td><td></td><td></td><td></td><td></td><td class="s">=head3 attribute</td></tr>
<tr><td class="h"><a name="226"></a>226</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="227"></a>227</td><td></td><td></td><td></td><td></td><td class="s">The attribute in this class' attribute list that represents the id of the parent class.</td></tr>
<tr><td class="h"><a name="228"></a>228</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="229"></a>229</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="230"></a>230</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="231"></a>231</td><td></td><td></td><td></td><td></td><td class="s">A hash of options to modify the created method.</td></tr>
<tr><td class="h"><a name="232"></a>232</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="233"></a>233</td><td></td><td></td><td></td><td></td><td class="s">=head4 mate</td></tr>
<tr><td class="h"><a name="234"></a>234</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="235"></a>235</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute that will be created in C&lt;class&gt; to refer back to this object. If specified, a reference to this object will be set in C&lt;class&gt; when it is instantiated to avoid stale references. This would only be useful in the case of a 1:1 relationship.</td></tr>
<tr><td class="h"><a name="236"></a>236</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="237"></a>237</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="238"></a>238</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="239"></a>239</td><td></td><td></td><td></td><td></td><td class="s">A boolean indicating whether to enable the SimpleDB's ConsistentRead option.</td></tr>
<tr><td class="h"><a name="240"></a>240</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="241"></a>241</td><td></td><td></td><td></td><td></td><td class="s">=head2 I&lt;belongs_to_generated_method&gt; ( [ item ] )</td></tr>
<tr><td class="h"><a name="242"></a>242</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="243"></a>243</td><td></td><td></td><td></td><td></td><td class="s">This is the documentation for the method that C&lt;belongs_to&gt; generates. This method caches the item it retrieves for faster future retrievals.</td></tr>
<tr><td class="h"><a name="244"></a>244</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="245"></a>245</td><td></td><td></td><td></td><td></td><td class="s">B&lt;NOTE:&gt; Will return C&lt;undef&gt; if the attribute specified has no value at the time it is called.</td></tr>
<tr><td class="h"><a name="246"></a>246</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="247"></a>247</td><td></td><td></td><td></td><td></td><td class="s">=head3 item</td></tr>
<tr><td class="h"><a name="248"></a>248</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="249"></a>249</td><td></td><td></td><td></td><td></td><td class="s">You can optionally precache the item that this method would produce, if you already have it by passing it to the method here. If you choose to use this option, make sure what you're setting here actually matches the id attribute that would normally be used to find the item in question.</td></tr>
<tr><td class="h"><a name="250"></a>250</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="251"></a>251</td><td></td><td></td><td></td><td></td><td class="s">=head2 has_I&lt;belongs_to_generated_method&gt;</td></tr>
<tr><td class="h"><a name="252"></a>252</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="253"></a>253</td><td></td><td></td><td></td><td></td><td class="s">Returns a boolean indicating whether the generated method is storing a cached result.</td></tr>
<tr><td class="h"><a name="254"></a>254</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="255"></a>255</td><td></td><td></td><td></td><td></td><td class="s">=head2 clear_I&lt;belongs_to_generated_method&gt;</td></tr>
<tr><td class="h"><a name="256"></a>256</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="257"></a>257</td><td></td><td></td><td></td><td></td><td class="s">Clears the cached result stored by the generated method. This method will be automatically called if a new value is set for the attribute.</td></tr>
<tr><td class="h"><a name="258"></a>258</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="259"></a>259</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="260"></a>260</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="261"></a>261</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 4.04ms (60&micro;s+3.98) within SimpleDB::Class::Item::belongs_to which was called 2 times, avg 2.02ms/call:
#    once (33&micro;s+2.11ms) by Module::Find::useall at <a href="lib-Foo-Child-pm-block.html#11">line 11 of lib/Foo/Child.pm</a>
#    once (27&micro;s+1.87ms) by Module::Find::useall at <a href="lib-Foo-Domain-pm-block.html#24">line 24 of lib/Foo/Domain.pm</a></div></div>sub belongs_to {</td></tr>
<tr><td class="h"><a name="262"></a>262</td><td class="c3">10</td><td class="c3"><span title="Avg 5&micro;s">49&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $name, $classname, $attribute, %options) = @_;</td></tr>
<tr><td class="h"><a name="263"></a>263</td><td></td><td></td><td></td><td></td><td class="s">    my $clearer = 'clear_'.$name;</td></tr>
<tr><td class="h"><a name="264"></a>264</td><td></td><td></td><td></td><td></td><td class="s">    my $predicate = 'has_'.$name;</td></tr>
<tr><td class="h"><a name="265"></a>265</td><td></td><td></td><td></td><td></td><td class="s">    $class-&gt;meta-&gt;add_attribute($name, {</td></tr>
<tr><td class="h"><a name="266"></a>266</td><td></td><td></td><td></td><td></td><td class="s">        is      =&gt; 'rw',</td></tr>
<tr><td class="h"><a name="267"></a>267</td><td></td><td></td><td></td><td></td><td class="s">        lazy    =&gt; 1,</td></tr>
<tr><td class="h"><a name="268"></a>268</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 1.29ms (31&micro;s+1.26) within SimpleDB::Class::Item::__ANON__[../lib/SimpleDB/Class/Item.pm:280] which was called
#    once (31&micro;s+1.26ms) by Class::MOP::Mixin::AttributeCore::default at <a href="Class-MOP-Mixin-AttributeCore-pm-block.html#53">line 53 of Class/MOP/Mixin/AttributeCore.pm</a></div></div>        default =&gt; sub {</td></tr>
<tr><td class="h"><a name="269"></a>269</td><td class="c3">7</td><td class="c3"><span title="Avg 3&micro;s">23&micro;s</span></td><td></td><td></td><td class="s">                my $self = shift;</td></tr>
<tr><td class="h"><a name="270"></a>270</td><td></td><td></td><td></td><td></td><td class="s">                my $id = $self-&gt;$attribute;<div class="calls"><div class="calls_out">                # spent    18&micro;s making 1 call to <a >Foo::Domain::parentId</a></div></div></td></tr>
<tr><td class="h"><a name="271"></a>271</td><td></td><td></td><td></td><td></td><td class="s">                return undef unless ($id ne '');</td></tr>
<tr><td class="h"><a name="272"></a>272</td><td></td><td></td><td></td><td></td><td class="s">                my %find_options;</td></tr>
<tr><td class="h"><a name="273"></a>273</td><td></td><td></td><td></td><td></td><td class="s">                if ($options{mate}) {</td></tr>
<tr><td class="h"><a name="274"></a>274</td><td></td><td></td><td></td><td></td><td class="s">                    $find_options{set} = { $options{mate} =&gt; $self };</td></tr>
<tr><td class="h"><a name="275"></a>275</td><td></td><td></td><td></td><td></td><td class="s">                }</td></tr>
<tr><td class="h"><a name="276"></a>276</td><td></td><td></td><td></td><td></td><td class="s">                if (exists $options{consistent}) {</td></tr>
<tr><td class="h"><a name="277"></a>277</td><td></td><td></td><td></td><td></td><td class="s">                    $find_options{consistent} = $options{consistent};</td></tr>
<tr><td class="h"><a name="278"></a>278</td><td></td><td></td><td></td><td></td><td class="s">                }</td></tr>
<tr><td class="h"><a name="279"></a>279</td><td></td><td></td><td></td><td></td><td class="s">                return $self-&gt;simpledb-&gt;domain($classname)-&gt;find($id, %find_options);<div class="calls"><div class="calls_out">                # spent  1.14ms making 1 call to <a href="lib-SimpleDB-Class-Domain-pm-block.html#147">SimpleDB::Class::Domain::find</a>
                # spent    94&micro;s making 1 call to <a href="lib-SimpleDB-Class-pm-block.html#356">SimpleDB::Class::domain</a>
                # spent     4&micro;s making 1 call to <a >SimpleDB::Class::Item::simpledb</a></div></div></td></tr>
<tr><td class="h"><a name="280"></a>280</td><td></td><td></td><td></td><td></td><td class="s">            },</td></tr>
<tr><td class="h"><a name="281"></a>281</td><td></td><td></td><td></td><td></td><td class="s">        predicate =&gt; $predicate,<div class="calls"><div class="calls_out">        # spent  3.47ms making 2 calls to <a href="Moose-Meta-Class-pm-block.html#294">Moose::Meta::Class::add_attribute</a>, avg 1.73ms/call
        # spent     8&micro;s making 1 call to <a >Foo::Child::meta</a>
        # spent     8&micro;s making 1 call to <a >Foo::Domain::meta</a></div></div></td></tr>
<tr><td class="h"><a name="282"></a>282</td><td></td><td></td><td></td><td></td><td class="s">        clearer =&gt; $clearer,</td></tr>
<tr><td class="h"><a name="283"></a>283</td><td></td><td></td><td></td><td></td><td class="s">        });</td></tr>
<tr><td class="h"><a name="284"></a>284</td><td></td><td></td><td></td><td></td><td class="s">    $class-&gt;meta-&gt;add_after_method_modifier($attribute, sub {</td></tr>
<tr><td class="h"><a name="285"></a>285</td><td class="c0">62</td><td class="c2"><span title="Avg 2&micro;s">140&micro;s</span></td><td></td><td></td><td class="s">        my ($self, $value) = @_;</td></tr>
<tr><td class="h"><a name="286"></a>286</td><td></td><td></td><td></td><td></td><td class="s">        if (defined $value) {<div class="calls"><div class="calls_out">        # spent     7&micro;s making 2 calls to <a >Foo::Domain::clear_parent</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="287"></a>287</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;$clearer;</td></tr>
<tr><td class="h"><a name="288"></a>288</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="289"></a>289</td><td></td><td></td><td></td><td></td><td class="s">    });<div class="calls"><div class="calls_out">    # spent   482&micro;s making 2 calls to <a href="Class-MOP-Class-pm-block.html#690">Class::MOP::Class::add_after_method_modifier</a>, avg 241&micro;s/call
    # spent     8&micro;s making 1 call to <a >Foo::Child::meta</a>
    # spent     8&micro;s making 1 call to <a >Foo::Domain::meta</a></div></div></td></tr>
<tr><td class="h"><a name="290"></a>290</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="291"></a>291</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="292"></a>292</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="293"></a>293</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="294"></a>294</td><td></td><td></td><td></td><td></td><td class="s">=head2 attributes ( )</td></tr>
<tr><td class="h"><a name="295"></a>295</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="296"></a>296</td><td></td><td></td><td></td><td></td><td class="s">Class method. Returns the hashref of attributes set by the add_attributes() method.</td></tr>
<tr><td class="h"><a name="297"></a>297</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="298"></a>298</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="299"></a>299</td><td class="c3">3</td><td class="c3"><span title="Avg 3&micro;s">10&micro;s</span></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 6&micro;s within SimpleDB::Class::Item::attributes which was called 3 times, avg 2&micro;s/call:
# 3 times (6&micro;s+0s) by SimpleDB::Class::Item::add_attributes at <a href="lib-SimpleDB-Class-Item-pm-block.html#112">line 112</a>, avg 2&micro;s/call</div></div>sub attributes { return {} };</td></tr>
<tr><td class="h"><a name="300"></a>300</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="301"></a>301</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="302"></a>302</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="303"></a>303</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="304"></a>304</td><td></td><td></td><td></td><td></td><td class="s">=head2 recast_using ( attribute_name ) </td></tr>
<tr><td class="h"><a name="305"></a>305</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="306"></a>306</td><td></td><td></td><td></td><td></td><td class="s">Class method. Sets an attribue name to use to recast this object as another class. This allows you to pull multiple object types from the same domain. If the attribute is defined when reading the information from SimpleDB, the object will be cast as the classname returned, rather than the classname associated with the domain. The new class must be a subclass of the class associated with the domain, because you cannot C&lt;set_domain_name&gt; for the same domain twice, or you will break SimpleDB::Class.</td></tr>
<tr><td class="h"><a name="307"></a>307</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="308"></a>308</td><td></td><td></td><td></td><td></td><td class="s">=head3 attribute_name</td></tr>
<tr><td class="h"><a name="309"></a>309</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="310"></a>310</td><td></td><td></td><td></td><td></td><td class="s">The name of an attribute defined by C&lt;add_attributes&gt;. </td></tr>
<tr><td class="h"><a name="311"></a>311</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="312"></a>312</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="313"></a>313</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="314"></a>314</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 15&micro;s (9+6) within SimpleDB::Class::Item::recast_using which was called
#    once (9&micro;s+6&micro;s) by Module::Find::useall at <a href="lib-Foo-Child-pm-block.html#12">line 12 of lib/Foo/Child.pm</a></div></div>sub recast_using {</td></tr>
<tr><td class="h"><a name="315"></a>315</td><td class="c3">2</td><td class="c3"><span title="Avg 4&micro;s">8&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $attribute_name) = @_;</td></tr>
<tr><td class="h"><a name="316"></a>316</td><td class="c3">3</td><td class="c3"><span title="Avg 6&micro;s">17&micro;s</span></td><td class="c3">1</td><td class="c3">6&micro;s</td><td class="s">    _install_sub($class.'::_castor_attribute', sub { return $attribute_name });<div class="calls"><div class="calls_out">    # spent     6&micro;s making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#23">SimpleDB::Class::Item::_install_sub</a></div></div></td></tr>
<tr><td class="h"><a name="317"></a>317</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="318"></a>318</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="319"></a>319</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 83&micro;s within SimpleDB::Class::Item::_castor_attribute which was called 32 times, avg 3&micro;s/call:
# 32 times (83&micro;s+0s) by SimpleDB::Class::Role::Itemized::determine_item_class at <a href="lib-SimpleDB-Class-Role-Itemized-pm-block.html#70">line 70 of ../lib/SimpleDB/Class/Role/Itemized.pm</a>, avg 3&micro;s/call</div></div>sub _castor_attribute {</td></tr>
<tr><td class="h"><a name="320"></a>320</td><td class="c0">32</td><td class="c3"><span title="Avg 3&micro;s">103&micro;s</span></td><td></td><td></td><td class="s">    return undef;</td></tr>
<tr><td class="h"><a name="321"></a>321</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="322"></a>322</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="323"></a>323</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="324"></a>324</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="325"></a>325</td><td></td><td></td><td></td><td></td><td class="s">=head2 update ( attributes ) </td></tr>
<tr><td class="h"><a name="326"></a>326</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="327"></a>327</td><td></td><td></td><td></td><td></td><td class="s">Update a bunch of attributes all at once. Returns a reference to L&lt;$self&gt; so it can be chained into other methods.</td></tr>
<tr><td class="h"><a name="328"></a>328</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="329"></a>329</td><td></td><td></td><td></td><td></td><td class="s">=head3 attributes</td></tr>
<tr><td class="h"><a name="330"></a>330</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="331"></a>331</td><td></td><td></td><td></td><td></td><td class="s">A hash reference containing attribute names and values.</td></tr>
<tr><td class="h"><a name="332"></a>332</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="333"></a>333</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="334"></a>334</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="335"></a>335</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 500&micro;s (39+461) within SimpleDB::Class::Item::update which was called
#    once (39&micro;s+461&micro;s) by SimpleDB::Class::Item::copy at <a href="lib-SimpleDB-Class-Item-pm-block.html#415">line 415</a></div></div>sub update {</td></tr>
<tr><td class="h"><a name="336"></a>336</td><td class="c3">4</td><td class="c3"><span title="Avg 2&micro;s">9&micro;s</span></td><td></td><td></td><td class="s">    my ($self, $attributes) = @_;</td></tr>
<tr><td class="h"><a name="337"></a>337</td><td></td><td></td><td></td><td></td><td class="s">    my $registered_attributes = $self-&gt;attributes;<div class="calls"><div class="calls_out">    # spent   800ns making 1 call to <a >Foo::Domain::attributes</a></div></div></td></tr>
<tr><td class="h"><a name="338"></a>338</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $attribute (keys %{$attributes}) {</td></tr>
<tr><td class="h"><a name="339"></a>339</td><td class="c3">9</td><td class="c3"><span title="Avg 1&micro;s">13&micro;s</span></td><td class="c1">9</td><td class="c3">460&micro;s</td><td class="s">        $self-&gt;$attribute($attributes-&gt;{$attribute});<div class="calls"><div class="calls_out">        # spent    92&micro;s making 1 call to <a >Foo::Domain::size</a>
        # spent    61&micro;s making 1 call to <a >Foo::Domain::parentId</a>
        # spent    56&micro;s making 1 call to <a >Foo::Domain::quantity</a>
        # spent    52&micro;s making 1 call to <a >Foo::Domain::components</a>
        # spent    45&micro;s making 1 call to <a >Foo::Domain::start_date</a>
        # spent    44&micro;s making 1 call to <a >Foo::Domain::notes</a>
        # spent    42&micro;s making 1 call to <a >Foo::Domain::color</a>
        # spent    37&micro;s making 1 call to <a >Foo::Domain::size_formatted</a>
        # spent    31&micro;s making 1 call to <a >Foo::Domain::properties</a></div></div></td></tr>
<tr><td class="h"><a name="340"></a>340</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="341"></a>341</td><td></td><td></td><td></td><td></td><td class="s">    return $self;</td></tr>
<tr><td class="h"><a name="342"></a>342</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="343"></a>343</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="344"></a>344</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="345"></a>345</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="346"></a>346</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="347"></a>347</td><td></td><td></td><td></td><td></td><td class="s">=head2 new ( params )</td></tr>
<tr><td class="h"><a name="348"></a>348</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="349"></a>349</td><td></td><td></td><td></td><td></td><td class="s">Constructor.</td></tr>
<tr><td class="h"><a name="350"></a>350</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="351"></a>351</td><td></td><td></td><td></td><td></td><td class="s">=head3 params</td></tr>
<tr><td class="h"><a name="352"></a>352</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="353"></a>353</td><td></td><td></td><td></td><td></td><td class="s">A hash.</td></tr>
<tr><td class="h"><a name="354"></a>354</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="355"></a>355</td><td></td><td></td><td></td><td></td><td class="s">=head4 id</td></tr>
<tr><td class="h"><a name="356"></a>356</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="357"></a>357</td><td></td><td></td><td></td><td></td><td class="s">The unique identifier (ItemName) of the item represented by this class. If you don't pass this in, an item ID will be generated for you automatically.</td></tr>
<tr><td class="h"><a name="358"></a>358</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="359"></a>359</td><td></td><td></td><td></td><td></td><td class="s">=head4 simpledb </td></tr>
<tr><td class="h"><a name="360"></a>360</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="361"></a>361</td><td></td><td></td><td></td><td></td><td class="s">Required. A L&lt;SimpleDB::Class&gt; object.</td></tr>
<tr><td class="h"><a name="362"></a>362</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="363"></a>363</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="364"></a>364</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="365"></a>365</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="366"></a>366</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="367"></a>367</td><td></td><td></td><td></td><td></td><td class="s">=head2 simpledb ( )</td></tr>
<tr><td class="h"><a name="368"></a>368</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="369"></a>369</td><td></td><td></td><td></td><td></td><td class="s">Returns the simpledb passed into the constructor.</td></tr>
<tr><td class="h"><a name="370"></a>370</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="371"></a>371</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="372"></a>372</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="373"></a>373</td><td class="c3">1</td><td class="c3"><span title="Avg 3&micro;s">3&micro;s</span></td><td class="c3">1</td><td class="c3">1.79ms</td><td class="s">has simpledb =&gt; (<div class="calls"><div class="calls_out"># spent  1.79ms making 1 call to <a href="Moose-pm-block.html#60">Moose::has</a></div></div></td></tr>
<tr><td class="h"><a name="374"></a>374</td><td></td><td></td><td></td><td></td><td class="s">    is          =&gt; 'ro',</td></tr>
<tr><td class="h"><a name="375"></a>375</td><td></td><td></td><td></td><td></td><td class="s">    required    =&gt; 1,</td></tr>
<tr><td class="h"><a name="376"></a>376</td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h"><a name="377"></a>377</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="378"></a>378</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="379"></a>379</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="380"></a>380</td><td></td><td></td><td></td><td></td><td class="s">=head2 id ( )</td></tr>
<tr><td class="h"><a name="381"></a>381</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="382"></a>382</td><td></td><td></td><td></td><td></td><td class="s">Returns the unique id of this item. B&lt;Note:&gt; The primary key C&lt;ItemName&gt; (or C&lt;id&gt; as we call it) is a special property of an item that doesn't exist in it's own data. So if you want to search on the id, you have to use C&lt;itemName()&gt; in your queries as the attribute name.</td></tr>
<tr><td class="h"><a name="383"></a>383</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="384"></a>384</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="385"></a>385</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="386"></a>386</td><td class="c3">1</td><td class="c3"><span title="Avg 4&micro;s">4&micro;s</span></td><td class="c3">2</td><td class="c3">1.44ms</td><td class="s">has id =&gt; (<div class="calls"><div class="calls_out"># spent  1.33ms making 1 call to <a href="Moose-pm-block.html#60">Moose::has</a>
# spent   112&micro;s making 1 call to <a >__TYPE__::SimpleDB::Class::Types::SdbStr</a></div></div></td></tr>
<tr><td class="h"><a name="387"></a>387</td><td></td><td></td><td></td><td></td><td class="s">    is          =&gt; 'ro',</td></tr>
<tr><td class="h"><a name="388"></a>388</td><td></td><td></td><td></td><td></td><td class="s">    isa         =&gt; SdbStr,</td></tr>
<tr><td class="h"><a name="389"></a>389</td><td></td><td></td><td></td><td></td><td class="s">    builder     =&gt; 'generate_uuid',</td></tr>
<tr><td class="h"><a name="390"></a>390</td><td></td><td></td><td></td><td></td><td class="s">    lazy        =&gt; 1,</td></tr>
<tr><td class="h"><a name="391"></a>391</td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h"><a name="392"></a>392</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="393"></a>393</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="394"></a>394</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="395"></a>395</td><td></td><td></td><td></td><td></td><td class="s">=head2 copy ( [ id ] ) </td></tr>
<tr><td class="h"><a name="396"></a>396</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="397"></a>397</td><td></td><td></td><td></td><td></td><td class="s">Creates a duplicate of this object, inserts it into the database, and returns a reference to it.</td></tr>
<tr><td class="h"><a name="398"></a>398</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="399"></a>399</td><td></td><td></td><td></td><td></td><td class="s">=head3 id</td></tr>
<tr><td class="h"><a name="400"></a>400</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="401"></a>401</td><td></td><td></td><td></td><td></td><td class="s">If you want to assign a specific id to the copy, then you can do it with this parameter.</td></tr>
<tr><td class="h"><a name="402"></a>402</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="403"></a>403</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="404"></a>404</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="405"></a>405</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 320ms (84&micro;s+320) within SimpleDB::Class::Item::copy which was called
#    once (84&micro;s+320ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#65">line 65 of 05.Domain_and_Item.t</a></div></div>sub copy {</td></tr>
<tr><td class="h"><a name="406"></a>406</td><td class="c3">7</td><td class="c3"><span title="Avg 5&micro;s">34&micro;s</span></td><td></td><td></td><td class="s">    my ($self, $id) = @_;</td></tr>
<tr><td class="h"><a name="407"></a>407</td><td></td><td></td><td></td><td></td><td class="s">    my %properties;</td></tr>
<tr><td class="h"><a name="408"></a>408</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $name (keys %{$self-&gt;attributes}) {<div class="calls"><div class="calls_out">    # spent     3&micro;s making 1 call to <a >Foo::Domain::attributes</a></div></div></td></tr>
<tr><td class="h"><a name="409"></a>409</td><td class="c3">9</td><td class="c3"><span title="Avg 3&micro;s">25&micro;s</span></td><td class="c1">9</td><td class="c3">60&micro;s</td><td class="s">        $properties{$name} = $self-&gt;$name;<div class="calls"><div class="calls_out">        # spent    30&micro;s making 1 call to <a >Foo::Domain::parentId</a>
        # spent     5&micro;s making 1 call to <a >Foo::Domain::components</a>
        # spent     5&micro;s making 1 call to <a >Foo::Domain::notes</a>
        # spent     5&micro;s making 1 call to <a >Foo::Domain::start_date</a>
        # spent     4&micro;s making 1 call to <a >Foo::Domain::quantity</a>
        # spent     4&micro;s making 1 call to <a >Foo::Domain::properties</a>
        # spent     4&micro;s making 1 call to <a >Foo::Domain::color</a>
        # spent     2&micro;s making 1 call to <a >Foo::Domain::size_formatted</a>
        # spent     1&micro;s making 1 call to <a >Foo::Domain::size</a></div></div></td></tr>
<tr><td class="h"><a name="410"></a>410</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="411"></a>411</td><td></td><td></td><td></td><td></td><td class="s">    my %params = (simpledb =&gt; $self-&gt;simpledb);<div class="calls"><div class="calls_out">    # spent     4&micro;s making 1 call to <a >SimpleDB::Class::Item::simpledb</a></div></div></td></tr>
<tr><td class="h"><a name="412"></a>412</td><td></td><td></td><td></td><td></td><td class="s">    if (defined $id) {</td></tr>
<tr><td class="h"><a name="413"></a>413</td><td></td><td></td><td></td><td></td><td class="s">        $params{id} = $id;</td></tr>
<tr><td class="h"><a name="414"></a>414</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="415"></a>415</td><td></td><td></td><td></td><td></td><td class="s">    my $new = $self-&gt;new(\%params)-&gt;update(\%properties)-&gt;put;<div class="calls"><div class="calls_out">    # spent   318ms making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#474">SimpleDB::Class::Item::put</a>
    # spent   814&micro;s making 1 call to <a href="Moose-Object-pm-block.html#19">Moose::Object::new</a>
    # spent   500&micro;s making 1 call to <a href="lib-SimpleDB-Class-Item-pm-block.html#335">SimpleDB::Class::Item::update</a></div></div></td></tr>
<tr><td class="h"><a name="416"></a>416</td><td></td><td></td><td></td><td></td><td class="s">    return $new;</td></tr>
<tr><td class="h"><a name="417"></a>417</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="418"></a>418</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="419"></a>419</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="420"></a>420</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="421"></a>421</td><td></td><td></td><td></td><td></td><td class="s">=head2 delete</td></tr>
<tr><td class="h"><a name="422"></a>422</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="423"></a>423</td><td></td><td></td><td></td><td></td><td class="s">Removes this item from the database.</td></tr>
<tr><td class="h"><a name="424"></a>424</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="425"></a>425</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="426"></a>426</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="427"></a>427</td><td></td><td></td><td></td><td></td><td class="s">sub delete {</td></tr>
<tr><td class="h"><a name="428"></a>428</td><td></td><td></td><td></td><td></td><td class="s">    my ($self) = @_;</td></tr>
<tr><td class="h"><a name="429"></a>429</td><td></td><td></td><td></td><td></td><td class="s">    my $db = $self-&gt;simpledb;</td></tr>
<tr><td class="h"><a name="430"></a>430</td><td></td><td></td><td></td><td></td><td class="s">    my $domain_name = $db-&gt;add_domain_prefix($self-&gt;domain_name);</td></tr>
<tr><td class="h"><a name="431"></a>431</td><td></td><td></td><td></td><td></td><td class="s">    eval{$db-&gt;cache-&gt;delete($domain_name, $self-&gt;id)};</td></tr>
<tr><td class="h"><a name="432"></a>432</td><td></td><td></td><td></td><td></td><td class="s">    $db-&gt;http-&gt;send_request('DeleteAttributes', {ItemName =&gt; $self-&gt;id, DomainName=&gt;$domain_name});</td></tr>
<tr><td class="h"><a name="433"></a>433</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="434"></a>434</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="435"></a>435</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="436"></a>436</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="437"></a>437</td><td></td><td></td><td></td><td></td><td class="s">=head2 delete_attribute</td></tr>
<tr><td class="h"><a name="438"></a>438</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="439"></a>439</td><td></td><td></td><td></td><td></td><td class="s">Removes a specific attribute from this item in the database. Great in conjunction with add_attribute().</td></tr>
<tr><td class="h"><a name="440"></a>440</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="441"></a>441</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="442"></a>442</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="443"></a>443</td><td></td><td></td><td></td><td></td><td class="s">sub delete_attribute {</td></tr>
<tr><td class="h"><a name="444"></a>444</td><td></td><td></td><td></td><td></td><td class="s">    my ($self, $name) = @_;</td></tr>
<tr><td class="h"><a name="445"></a>445</td><td></td><td></td><td></td><td></td><td class="s">    my $attributes = $self-&gt;attributes;</td></tr>
<tr><td class="h"><a name="446"></a>446</td><td></td><td></td><td></td><td></td><td class="s">    delete $attributes-&gt;{$name};</td></tr>
<tr><td class="h"><a name="447"></a>447</td><td></td><td></td><td></td><td></td><td class="s">    $self-&gt;attributes($attributes);</td></tr>
<tr><td class="h"><a name="448"></a>448</td><td></td><td></td><td></td><td></td><td class="s">    my $db = $self-&gt;simpledb;</td></tr>
<tr><td class="h"><a name="449"></a>449</td><td></td><td></td><td></td><td></td><td class="s">    my $domain_name = $db-&gt;add_domain_prefix($self-&gt;domain_name);</td></tr>
<tr><td class="h"><a name="450"></a>450</td><td></td><td></td><td></td><td></td><td class="s">    eval{$db-&gt;cache-&gt;set($domain_name, $self-&gt;id, $attributes)};</td></tr>
<tr><td class="h"><a name="451"></a>451</td><td></td><td></td><td></td><td></td><td class="s">    $db-&gt;http-&gt;send_request('DeleteAttributes', { ItemName =&gt; $self-&gt;id, DomainName =&gt; $domain_name, 'Attribute.0.Name' =&gt; $name } );</td></tr>
<tr><td class="h"><a name="452"></a>452</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="453"></a>453</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="454"></a>454</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="455"></a>455</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="456"></a>456</td><td></td><td></td><td></td><td></td><td class="s">=head2 generate_uuid ( )</td></tr>
<tr><td class="h"><a name="457"></a>457</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="458"></a>458</td><td></td><td></td><td></td><td></td><td class="s">Class method. Generates a unique UUID that can be used as a unique id for new items.</td></tr>
<tr><td class="h"><a name="459"></a>459</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="460"></a>460</td><td></td><td></td><td></td><td></td><td class="s">=cut </td></tr>
<tr><td class="h"><a name="461"></a>461</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="462"></a>462</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 1.63ms (44&micro;s+1.58) within SimpleDB::Class::Item::generate_uuid which was called 9 times, avg 181&micro;s/call:
# 9 times (44&micro;s+1.58ms) by SimpleDB::Class::Item::id at <a href="accessor id defined at -lib-SimpleDB-Class-Item-pm-block.html#388">line 388 of accessor id defined at ../lib/SimpleDB/Class/Item.pm</a>, avg 181&micro;s/call</div></div>sub generate_uuid {</td></tr>
<tr><td class="h"><a name="463"></a>463</td><td class="c3">9</td><td class="c3"><span title="Avg 5&micro;s">49&micro;s</span></td><td class="c1">9</td><td class="c3">1.58ms</td><td class="s">    return create_UUID_as_string(UUID_V4);<div class="calls"><div class="calls_out">    # spent  1.58ms making 9 calls to <a href="UUID-Tiny-pm-block.html#481">UUID::Tiny::create_uuid_as_string</a>, avg 176&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="464"></a>464</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="465"></a>465</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="466"></a>466</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="467"></a>467</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="468"></a>468</td><td></td><td></td><td></td><td></td><td class="s">=head2 put ( )</td></tr>
<tr><td class="h"><a name="469"></a>469</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="470"></a>470</td><td></td><td></td><td></td><td></td><td class="s">Inserts/updates the current attributes of this Item object to the database.  Returns a reference to L&lt;$self&gt; so it can be chained into other methods.</td></tr>
<tr><td class="h"><a name="471"></a>471</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="472"></a>472</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="473"></a>473</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="474"></a>474</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 4.18s (2.14ms+4.18) within SimpleDB::Class::Item::put which was called 12 times, avg 349ms/call:
# 11 times (1.96ms+3.86s) by SimpleDB::Class::Domain::insert at <a href="lib-SimpleDB-Class-Domain-pm-block.html#218">line 218 of ../lib/SimpleDB/Class/Domain.pm</a>, avg 351ms/call
#     once (179&micro;s+318ms) by SimpleDB::Class::Item::copy at <a href="lib-SimpleDB-Class-Item-pm-block.html#415">line 415</a></div></div>sub put {</td></tr>
<tr><td class="h"><a name="475"></a>475</td><td class="c0">120</td><td class="c0"><span title="Avg 7&micro;s">831&micro;s</span></td><td></td><td></td><td class="s">    my ($self) = @_;</td></tr>
<tr><td class="h"><a name="476"></a>476</td><td></td><td></td><td></td><td></td><td class="s">    my $db = $self-&gt;simpledb;<div class="calls"><div class="calls_out">    # spent    46&micro;s making 12 calls to <a >SimpleDB::Class::Item::simpledb</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="477"></a>477</td><td></td><td></td><td></td><td></td><td class="s">    my $domain_name = $db-&gt;add_domain_prefix($self-&gt;domain_name);<div class="calls"><div class="calls_out">    # spent   130&micro;s making 12 calls to <a href="lib-SimpleDB-Class-pm-block.html#301">SimpleDB::Class::add_domain_prefix</a>, avg 11&micro;s/call
    # spent    21&micro;s making  8 calls to <a >Foo::Domain::domain_name</a>, avg 3&micro;s/call
    # spent     7&micro;s making  2 calls to <a >Foo::Parent::domain_name</a>, avg 3&micro;s/call
    # spent     6&micro;s making  2 calls to <a >Foo::Child::domain_name</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="478"></a>478</td><td></td><td></td><td></td><td></td><td class="s">    my $i = 0;</td></tr>
<tr><td class="h"><a name="479"></a>479</td><td></td><td></td><td></td><td></td><td class="s">    my $attributes = $self-&gt;to_hashref;<div class="calls"><div class="calls_out">    # spent  5.37ms making 12 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#510">SimpleDB::Class::Item::to_hashref</a>, avg 448&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="480"></a>480</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="481"></a>481</td><td></td><td></td><td></td><td></td><td class="s">    # build the parameter list</td></tr>
<tr><td class="h"><a name="482"></a>482</td><td></td><td></td><td></td><td></td><td class="s">    my $params = {ItemName =&gt; $self-&gt;id, DomainName=&gt;$domain_name};<div class="calls"><div class="calls_out">    # spent  2.04ms making 12 calls to <a >SimpleDB::Class::Item::id</a>, avg 170&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="483"></a>483</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $name (keys %{$attributes}) {                                                </td></tr>
<tr><td class="h"><a name="484"></a>484</td><td class="c0">237</td><td class="c0"><span title="Avg 2&micro;s">490&micro;s</span></td><td class="c0">158</td><td class="c0">18.0ms</td><td class="s">        my $values = $self-&gt;stringify_values($name, $self-&gt;$name);<div class="calls"><div class="calls_out">        # spent  17.7ms making 79 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#608">SimpleDB::Class::Item::stringify_values</a>, avg 224&micro;s/call
        # spent   140&micro;s making  8 calls to <a >Foo::Domain::parentId</a>, avg 18&micro;s/call
        # spent    36&micro;s making  2 calls to <a >Foo::Child::domainId</a>, avg 18&micro;s/call
        # spent    21&micro;s making  8 calls to <a >Foo::Domain::properties</a>, avg 3&micro;s/call
        # spent    21&micro;s making  8 calls to <a >Foo::Domain::notes</a>, avg 3&micro;s/call
        # spent    20&micro;s making  8 calls to <a >Foo::Domain::quantity</a>, avg 3&micro;s/call
        # spent    19&micro;s making  8 calls to <a >Foo::Domain::components</a>, avg 2&micro;s/call
        # spent    19&micro;s making  8 calls to <a >Foo::Domain::start_date</a>, avg 2&micro;s/call
        # spent    18&micro;s making  8 calls to <a >Foo::Domain::size</a>, avg 2&micro;s/call
        # spent    17&micro;s making  8 calls to <a >Foo::Domain::color</a>, avg 2&micro;s/call
        # spent    16&micro;s making  8 calls to <a >Foo::Domain::size_formatted</a>, avg 2&micro;s/call
        # spent     4&micro;s making  2 calls to <a >Foo::Child::class</a>, avg 2&micro;s/call
        # spent     4&micro;s making  2 calls to <a >Foo::Parent::title</a>, avg 2&micro;s/call
        # spent     2&micro;s making  1 call to <a >Foo::SubChild::tribe</a></div></div></td></tr>
<tr><td class="h"><a name="485"></a>485</td><td></td><td></td><td></td><td></td><td class="s">        unless (ref $values eq 'ARRAY') {</td></tr>
<tr><td class="h"><a name="486"></a>486</td><td></td><td></td><td></td><td></td><td class="s">            $values = [$values];</td></tr>
<tr><td class="h"><a name="487"></a>487</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="488"></a>488</td><td></td><td></td><td></td><td></td><td class="s">        foreach my $value (@{$values}) {</td></tr>
<tr><td class="h"><a name="489"></a>489</td><td class="c0">296</td><td class="c0"><span title="Avg 1&micro;s">329&micro;s</span></td><td></td><td></td><td class="s">            $params-&gt;{'Attribute.'.$i.'.Name'} = $name;</td></tr>
<tr><td class="h"><a name="490"></a>490</td><td></td><td></td><td></td><td></td><td class="s">            $params-&gt;{'Attribute.'.$i.'.Value'} = $value;</td></tr>
<tr><td class="h"><a name="491"></a>491</td><td></td><td></td><td></td><td></td><td class="s">            $params-&gt;{'Attribute.'.$i.'.Replace'} = 'true';</td></tr>
<tr><td class="h"><a name="492"></a>492</td><td></td><td></td><td></td><td></td><td class="s">            $i++;</td></tr>
<tr><td class="h"><a name="493"></a>493</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="494"></a>494</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="495"></a>495</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="496"></a>496</td><td></td><td></td><td></td><td></td><td class="s">    # push changes</td></tr>
<tr><td class="h"><a name="497"></a>497</td><td class="c3">12</td><td class="c3"><span title="Avg 9&micro;s">106&micro;s</span></td><td class="c0">36</td><td class="c0">6.75ms</td><td class="s">    eval{$db-&gt;cache-&gt;set($domain_name, $self-&gt;id, $attributes)};<div class="calls"><div class="calls_out">    # spent  6.66ms making 12 calls to <a href="lib-SimpleDB-Class-Cache-pm-block.html#377">SimpleDB::Class::Cache::set</a>, avg 555&micro;s/call
    # spent    63&micro;s making 12 calls to <a >SimpleDB::Class::cache</a>, avg 5&micro;s/call
    # spent    27&micro;s making 12 calls to <a >SimpleDB::Class::Item::id</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="498"></a>498</td><td></td><td></td><td></td><td></td><td class="s">    $db-&gt;http-&gt;send_request('PutAttributes', $params);<div class="calls"><div class="calls_out">    # spent  4.15s making 12 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 346ms/call
    # spent    98&micro;s making 12 calls to <a >SimpleDB::Class::http</a>, avg 8&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="499"></a>499</td><td></td><td></td><td></td><td></td><td class="s">    return $self;</td></tr>
<tr><td class="h"><a name="500"></a>500</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="501"></a>501</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="502"></a>502</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="503"></a>503</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="504"></a>504</td><td></td><td></td><td></td><td></td><td class="s">=head2 to_hashref ( )</td></tr>
<tr><td class="h"><a name="505"></a>505</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="506"></a>506</td><td></td><td></td><td></td><td></td><td class="s">Returns a hash reference of the attributes asscoiated with this item.</td></tr>
<tr><td class="h"><a name="507"></a>507</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="508"></a>508</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="509"></a>509</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="510"></a>510</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 6.33ms (809&micro;s+5.52) within SimpleDB::Class::Item::to_hashref which was called 18 times, avg 351&micro;s/call:
# 12 times (523&micro;s+4.85ms) by SimpleDB::Class::Item::put at <a href="lib-SimpleDB-Class-Item-pm-block.html#479">line 479</a>, avg 448&micro;s/call
#  3 times (122&micro;s+460&micro;s) by SimpleDB::Class::ResultSet::next at <a href="lib-SimpleDB-Class-ResultSet-pm-block.html#470">line 470 of ../lib/SimpleDB/Class/ResultSet.pm</a>, avg 194&micro;s/call
#  2 times (90&micro;s+120&micro;s) by SimpleDB::Class::Domain::find at <a href="lib-SimpleDB-Class-Domain-pm-block.html#168">line 168 of ../lib/SimpleDB/Class/Domain.pm</a>, avg 105&micro;s/call
#     once (74&micro;s+85&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#43">line 43 of 05.Domain_and_Item.t</a></div></div>sub to_hashref {</td></tr>
<tr><td class="h"><a name="511"></a>511</td><td class="c0">72</td><td class="c0"><span title="Avg 3&micro;s">208&micro;s</span></td><td></td><td></td><td class="s">    my ($self) = @_;</td></tr>
<tr><td class="h"><a name="512"></a>512</td><td></td><td></td><td></td><td></td><td class="s">    my %properties;</td></tr>
<tr><td class="h"><a name="513"></a>513</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $attribute (keys %{$self-&gt;attributes}) {                                                <div class="calls"><div class="calls_out">    # spent    36&micro;s making 14 calls to <a >Foo::Domain::attributes</a>, avg 3&micro;s/call
    # spent     6&micro;s making  2 calls to <a >Foo::Parent::attributes</a>, avg 3&micro;s/call
    # spent     3&micro;s making  1 call to <a >Foo::Child::attributes</a>
    # spent     2&micro;s making  1 call to <a >Foo::SubChild::attributes</a></div></div></td></tr>
<tr><td class="h"><a name="514"></a>514</td><td class="c0">266</td><td class="c0"><span title="Avg 2&micro;s">425&micro;s</span></td><td></td><td></td><td class="s">        next if $attribute eq 'id';</td></tr>
<tr><td class="h"><a name="515"></a>515</td><td></td><td></td><td></td><td></td><td class="s">        $properties{$attribute} = $self-&gt;$attribute;<div class="calls"><div class="calls_out">        # spent  3.29ms making 14 calls to <a >Foo::Domain::start_date</a>, avg 235&micro;s/call
        # spent   660&micro;s making 14 calls to <a >Foo::Domain::components</a>, avg 47&micro;s/call
        # spent   590&micro;s making 14 calls to <a >Foo::Domain::notes</a>, avg 42&micro;s/call
        # spent   408&micro;s making 14 calls to <a >Foo::Domain::parentId</a>, avg 29&micro;s/call
        # spent   254&micro;s making 14 calls to <a >Foo::Domain::properties</a>, avg 18&micro;s/call
        # spent    78&micro;s making  2 calls to <a >Foo::Child::domainId</a>, avg 39&micro;s/call
        # spent    66&micro;s making 14 calls to <a >Foo::Domain::quantity</a>, avg 5&micro;s/call
        # spent    50&micro;s making 14 calls to <a >Foo::Domain::color</a>, avg 4&micro;s/call
        # spent    26&micro;s making 14 calls to <a >Foo::Domain::size_formatted</a>, avg 2&micro;s/call
        # spent    25&micro;s making 14 calls to <a >Foo::Domain::size</a>, avg 2&micro;s/call
        # spent     9&micro;s making  2 calls to <a >Foo::Parent::title</a>, avg 4&micro;s/call
        # spent     8&micro;s making  2 calls to <a >Foo::Child::class</a>, avg 4&micro;s/call
        # spent     4&micro;s making  1 call to <a >Foo::SubChild::tribe</a></div></div></td></tr>
<tr><td class="h"><a name="516"></a>516</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="517"></a>517</td><td></td><td></td><td></td><td></td><td class="s">    return \%properties;</td></tr>
<tr><td class="h"><a name="518"></a>518</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="519"></a>519</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="520"></a>520</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="521"></a>521</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="522"></a>522</td><td></td><td></td><td></td><td></td><td class="s">=head2 parse_value ( name, value ) </td></tr>
<tr><td class="h"><a name="523"></a>523</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="524"></a>524</td><td></td><td></td><td></td><td></td><td class="s">Class method. Returns the proper type for an attribute value in this class. So it could take a date string and turn it into a L&lt;DateTime&gt; object. See C&lt;stringify_value&gt; for the opposite.</td></tr>
<tr><td class="h"><a name="525"></a>525</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="526"></a>526</td><td></td><td></td><td></td><td></td><td class="s">=head3 name</td></tr>
<tr><td class="h"><a name="527"></a>527</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="528"></a>528</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute to parse.</td></tr>
<tr><td class="h"><a name="529"></a>529</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="530"></a>530</td><td></td><td></td><td></td><td></td><td class="s">=head3 value</td></tr>
<tr><td class="h"><a name="531"></a>531</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="532"></a>532</td><td></td><td></td><td></td><td></td><td class="s">The current stringified value to parse.</td></tr>
<tr><td class="h"><a name="533"></a>533</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="534"></a>534</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="535"></a>535</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="536"></a>536</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 11.2ms (109&micro;s+11.1) within SimpleDB::Class::Item::parse_value which was called 4 times, avg 2.81ms/call:
# 2 times (59&micro;s+10.7ms) by SimpleDB::Class::Domain::max at <a href="lib-SimpleDB-Class-Domain-pm-block.html#357">line 357 of ../lib/SimpleDB/Class/Domain.pm</a>, avg 5.39ms/call
# 2 times (50&micro;s+405&micro;s) by SimpleDB::Class::Domain::min at <a href="lib-SimpleDB-Class-Domain-pm-block.html#408">line 408 of ../lib/SimpleDB/Class/Domain.pm</a>, avg 227&micro;s/call</div></div>sub parse_value {</td></tr>
<tr><td class="h"><a name="537"></a>537</td><td class="c1">24</td><td class="c3"><span title="Avg 4&micro;s">96&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $name, $value) = @_;</td></tr>
<tr><td class="h"><a name="538"></a>538</td><td></td><td></td><td></td><td></td><td class="s">    return $name if ($name eq 'itemName()');</td></tr>
<tr><td class="h"><a name="539"></a>539</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="540"></a>540</td><td></td><td></td><td></td><td></td><td class="s">    # find type</td></tr>
<tr><td class="h"><a name="541"></a>541</td><td></td><td></td><td></td><td></td><td class="s">    my $attribute = $class-&gt;meta-&gt;find_attribute_by_name($name);<div class="calls"><div class="calls_out">    # spent   262&micro;s making 4 calls to <a href="Class-MOP-Class-pm-block.html#536">Class::MOP::Class::find_attribute_by_name</a>, avg 66&micro;s/call
    # spent    93&micro;s making 4 calls to <a >Foo::Domain::meta</a>, avg 23&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="542"></a>542</td><td></td><td></td><td></td><td></td><td class="s">    SimpleDB::Class::Exception::InvalidParam-&gt;throw(</td></tr>
<tr><td class="h"><a name="543"></a>543</td><td></td><td></td><td></td><td></td><td class="s">        name    =&gt; 'name',</td></tr>
<tr><td class="h"><a name="544"></a>544</td><td></td><td></td><td></td><td></td><td class="s">        value   =&gt; $name,</td></tr>
<tr><td class="h"><a name="545"></a>545</td><td></td><td></td><td></td><td></td><td class="s">        error   =&gt; q{There is no attribute called '}.$name.q{'.},</td></tr>
<tr><td class="h"><a name="546"></a>546</td><td></td><td></td><td></td><td></td><td class="s">        ) unless defined $attribute;</td></tr>
<tr><td class="h"><a name="547"></a>547</td><td></td><td></td><td></td><td></td><td class="s">    my $isa = $attribute-&gt;type_constraint;<div class="calls"><div class="calls_out">    # spent    21&micro;s making 4 calls to <a >Moose::Meta::Mixin::AttributeCore::type_constraint</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="548"></a>548</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="549"></a>549</td><td></td><td></td><td></td><td></td><td class="s">    # coerce</td></tr>
<tr><td class="h"><a name="550"></a>550</td><td></td><td></td><td></td><td></td><td class="s">    $isa-&gt;coerce($value);<div class="calls"><div class="calls_out">    # spent  10.8ms making 4 calls to <a href="Moose-Meta-TypeConstraint-pm-block.html#76">Moose::Meta::TypeConstraint::coerce</a>, avg 2.69ms/call</div></div></td></tr>
<tr><td class="h"><a name="551"></a>551</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="552"></a>552</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="553"></a>553</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="554"></a>554</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="555"></a>555</td><td></td><td></td><td></td><td></td><td class="s">=head2 stringify_value ( name, value )</td></tr>
<tr><td class="h"><a name="556"></a>556</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="557"></a>557</td><td></td><td></td><td></td><td></td><td class="s">Class method. Formats an attribute as a string using one of the L&lt;SimpleDB::Class::Types&gt; to_* functions in this class. See C&lt;parse_value&gt;, as this is the reverse of that.</td></tr>
<tr><td class="h"><a name="558"></a>558</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="559"></a>559</td><td></td><td></td><td></td><td></td><td class="s">=head3 name</td></tr>
<tr><td class="h"><a name="560"></a>560</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="561"></a>561</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute to format.</td></tr>
<tr><td class="h"><a name="562"></a>562</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="563"></a>563</td><td></td><td></td><td></td><td></td><td class="s">=head3 value</td></tr>
<tr><td class="h"><a name="564"></a>564</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="565"></a>565</td><td></td><td></td><td></td><td></td><td class="s">The value to format.</td></tr>
<tr><td class="h"><a name="566"></a>566</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="567"></a>567</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="568"></a>568</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="569"></a>569</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 4.37ms (456&micro;s+3.91) within SimpleDB::Class::Item::stringify_value which was called 22 times, avg 199&micro;s/call:
# 13 times (269&micro;s+2.01ms) by SimpleDB::Class::SQL::recurse_where at <a href="lib-SimpleDB-Class-SQL-pm-block.html#337">line 337 of ../lib/SimpleDB/Class/SQL.pm</a>, avg 175&micro;s/call
#  7 times (179&micro;s+1.91ms) by SimpleDB::Class::SQL::recurse_where at <a href="lib-SimpleDB-Class-SQL-pm-block.html#294">line 294 of ../lib/SimpleDB/Class/SQL.pm</a>, avg 298&micro;s/call
#  2 times (7&micro;s+0s) by SimpleDB::Class::SQL::recurse_where at <a href="lib-SimpleDB-Class-SQL-pm-block.html#316">line 316 of ../lib/SimpleDB/Class/SQL.pm</a>, avg 4&micro;s/call</div></div>sub stringify_value {</td></tr>
<tr><td class="h"><a name="570"></a>570</td><td class="c0">116</td><td class="c0"><span title="Avg 3&micro;s">311&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $name, $value) = @_;</td></tr>
<tr><td class="h"><a name="571"></a>571</td><td></td><td></td><td></td><td></td><td class="s">    return $value if ($name eq 'itemName()');</td></tr>
<tr><td class="h"><a name="572"></a>572</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="573"></a>573</td><td></td><td></td><td></td><td></td><td class="s">    # find type</td></tr>
<tr><td class="h"><a name="574"></a>574</td><td></td><td></td><td></td><td></td><td class="s">    my $attribute = $class-&gt;meta-&gt;find_attribute_by_name($name);<div class="calls"><div class="calls_out">    # spent   886&micro;s making 18 calls to <a href="Class-MOP-Class-pm-block.html#536">Class::MOP::Class::find_attribute_by_name</a>, avg 49&micro;s/call
    # spent   256&micro;s making 17 calls to <a >Foo::Domain::meta</a>, avg 15&micro;s/call
    # spent    15&micro;s making  1 call to <a >Foo::Child::meta</a></div></div></td></tr>
<tr><td class="h"><a name="575"></a>575</td><td></td><td></td><td></td><td></td><td class="s">    SimpleDB::Class::Exception::InvalidParam-&gt;throw(</td></tr>
<tr><td class="h"><a name="576"></a>576</td><td></td><td></td><td></td><td></td><td class="s">        name    =&gt; 'name',</td></tr>
<tr><td class="h"><a name="577"></a>577</td><td></td><td></td><td></td><td></td><td class="s">        value   =&gt; $name,</td></tr>
<tr><td class="h"><a name="578"></a>578</td><td></td><td></td><td></td><td></td><td class="s">        error   =&gt; q{There is no attribute called '}.$name.q{'.},</td></tr>
<tr><td class="h"><a name="579"></a>579</td><td></td><td></td><td></td><td></td><td class="s">        ) unless defined $attribute;</td></tr>
<tr><td class="h"><a name="580"></a>580</td><td></td><td></td><td></td><td></td><td class="s">    my $isa = $attribute-&gt;type_constraint;<div class="calls"><div class="calls_out">    # spent    51&micro;s making 18 calls to <a >Moose::Meta::Mixin::AttributeCore::type_constraint</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="581"></a>581</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="582"></a>582</td><td></td><td></td><td></td><td></td><td class="s">    # coerce</td></tr>
<tr><td class="h"><a name="583"></a>583</td><td></td><td></td><td></td><td></td><td class="s">    # special cases for int stuff because technically ints are already strings</td></tr>
<tr><td class="h"><a name="584"></a>584</td><td class="c3">12</td><td class="c1"><span title="Avg 15&micro;s">175&micro;s</span></td><td class="c0">42</td><td class="c3">1.78ms</td><td class="s">    if ($isa =~ /Int$/) {<div class="calls"><div class="calls_out">    # spent  1.25ms making  6 calls to <a href="MooseX-Types-pm-block.html#475">MooseX::Types::__ANON__[MooseX/Types.pm:486]</a>, avg 209&micro;s/call
    # spent   318&micro;s making 18 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#SimpleDB__Class__Item__CORE_match">SimpleDB::Class::Item::CORE:match</a>, avg 18&micro;s/call
    # spent   209&micro;s making 18 calls to <a href="Moose-Meta-TypeConstraint-pm-block.html#8">Moose::Meta::TypeConstraint::__ANON__[Moose/Meta/TypeConstraint.pm:8]</a>, avg 12&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="585"></a>585</td><td></td><td></td><td></td><td></td><td class="s">        return to_SdbIntAsStr($value); </td></tr>
<tr><td class="h"><a name="586"></a>586</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="587"></a>587</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="588"></a>588</td><td></td><td></td><td></td><td></td><td class="s">        return to_SdbStr($value);<div class="calls"><div class="calls_out">        # spent  1.13ms making 12 calls to <a href="MooseX-Types-pm-block.html#475">MooseX::Types::__ANON__[MooseX/Types.pm:486]</a>, avg 95&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="589"></a>589</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="590"></a>590</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="591"></a>591</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="592"></a>592</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="593"></a>593</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="594"></a>594</td><td></td><td></td><td></td><td></td><td class="s">=head2 stringify_values ( name, values )</td></tr>
<tr><td class="h"><a name="595"></a>595</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="596"></a>596</td><td></td><td></td><td></td><td></td><td class="s">Class method. Same as C&lt;stringify_value&gt;, but takes into account array types in addition to scalars.</td></tr>
<tr><td class="h"><a name="597"></a>597</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="598"></a>598</td><td></td><td></td><td></td><td></td><td class="s">=head3 name</td></tr>
<tr><td class="h"><a name="599"></a>599</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="600"></a>600</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute to format.</td></tr>
<tr><td class="h"><a name="601"></a>601</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="602"></a>602</td><td></td><td></td><td></td><td></td><td class="s">=head3 values</td></tr>
<tr><td class="h"><a name="603"></a>603</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="604"></a>604</td><td></td><td></td><td></td><td></td><td class="s">The value to format.</td></tr>
<tr><td class="h"><a name="605"></a>605</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="606"></a>606</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="607"></a>607</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="608"></a>608</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 17.7ms (1.66+16.0) within SimpleDB::Class::Item::stringify_values which was called 79 times, avg 224&micro;s/call:
# 79 times (1.66ms+16.0ms) by SimpleDB::Class::Item::put at <a href="lib-SimpleDB-Class-Item-pm-block.html#484">line 484</a>, avg 224&micro;s/call</div></div>sub stringify_values {</td></tr>
<tr><td class="h"><a name="609"></a>609</td><td class="c0">474</td><td class="c0"><span title="Avg 2&micro;s">740&micro;s</span></td><td></td><td></td><td class="s">    my ($class, $name, $value) = @_;</td></tr>
<tr><td class="h"><a name="610"></a>610</td><td></td><td></td><td></td><td></td><td class="s">    return $name if ($name eq 'itemName()');</td></tr>
<tr><td class="h"><a name="611"></a>611</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="612"></a>612</td><td></td><td></td><td></td><td></td><td class="s">    # find type</td></tr>
<tr><td class="h"><a name="613"></a>613</td><td></td><td></td><td></td><td></td><td class="s">    my $attribute = $class-&gt;meta-&gt;find_attribute_by_name($name);<div class="calls"><div class="calls_out">    # spent  2.81ms making 79 calls to <a href="Class-MOP-Class-pm-block.html#536">Class::MOP::Class::find_attribute_by_name</a>, avg 36&micro;s/call
    # spent   638&micro;s making 72 calls to <a >Foo::Domain::meta</a>, avg 9&micro;s/call
    # spent    28&micro;s making  2 calls to <a >Foo::Parent::meta</a>, avg 14&micro;s/call
    # spent    26&micro;s making  3 calls to <a >Foo::SubChild::meta</a>, avg 8&micro;s/call
    # spent    25&micro;s making  2 calls to <a >Foo::Child::meta</a>, avg 12&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="614"></a>614</td><td></td><td></td><td></td><td></td><td class="s">    SimpleDB::Class::Exception::InvalidParam-&gt;throw(</td></tr>
<tr><td class="h"><a name="615"></a>615</td><td></td><td></td><td></td><td></td><td class="s">        name    =&gt; 'name',</td></tr>
<tr><td class="h"><a name="616"></a>616</td><td></td><td></td><td></td><td></td><td class="s">        value   =&gt; $name,</td></tr>
<tr><td class="h"><a name="617"></a>617</td><td></td><td></td><td></td><td></td><td class="s">        error   =&gt; q{There is no attribute called '}.$name.q{'.},</td></tr>
<tr><td class="h"><a name="618"></a>618</td><td></td><td></td><td></td><td></td><td class="s">        ) unless defined $attribute;</td></tr>
<tr><td class="h"><a name="619"></a>619</td><td></td><td></td><td></td><td></td><td class="s">    my $isa = $attribute-&gt;type_constraint;<div class="calls"><div class="calls_out">    # spent   142&micro;s making 79 calls to <a >Moose::Meta::Mixin::AttributeCore::type_constraint</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="620"></a>620</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="621"></a>621</td><td></td><td></td><td></td><td></td><td class="s">    # coerce</td></tr>
<tr><td class="h"><a name="622"></a>622</td><td></td><td></td><td></td><td></td><td class="s">    # special cases for int stuff because technically ints are already strings</td></tr>
<tr><td class="h"><a name="623"></a>623</td><td class="c0">47</td><td class="c0"><span title="Avg 16&micro;s">772&micro;s</span></td><td class="c0">332</td><td class="c0">6.91ms</td><td class="s">    if ($isa eq 'SimpleDB::Class::Types::SdbArrayRefOfInt') {<div class="calls"><div class="calls_out">    # spent  5.09ms making  32 calls to <a href="MooseX-Types-pm-block.html#475">MooseX::Types::__ANON__[MooseX/Types.pm:486]</a>, avg 159&micro;s/call
    # spent  1.17ms making 229 calls to <a href="Moose-Meta-TypeConstraint-pm-block.html#8">Moose::Meta::TypeConstraint::__ANON__[Moose/Meta/TypeConstraint.pm:8]</a>, avg 5&micro;s/call
    # spent   645&micro;s making  71 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#SimpleDB__Class__Item__CORE_match">SimpleDB::Class::Item::CORE:match</a>, avg 9&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="624"></a>624</td><td></td><td></td><td></td><td></td><td class="s">        return to_SdbArrayRefOfIntAsStr($value);</td></tr>
<tr><td class="h"><a name="625"></a>625</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="626"></a>626</td><td></td><td></td><td></td><td></td><td class="s">    elsif ($isa eq 'SimpleDB::Class::Types::SdbInt') {</td></tr>
<tr><td class="h"><a name="627"></a>627</td><td></td><td></td><td></td><td></td><td class="s">        return to_SdbIntAsStr($value); </td></tr>
<tr><td class="h"><a name="628"></a>628</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="629"></a>629</td><td></td><td></td><td></td><td></td><td class="s">    elsif ($isa =~ m/ArrayRefOf|HashRef|MediumStr/) {</td></tr>
<tr><td class="h"><a name="630"></a>630</td><td></td><td></td><td></td><td></td><td class="s">        return to_SdbArrayRefOfStr($value);</td></tr>
<tr><td class="h"><a name="631"></a>631</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="632"></a>632</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="633"></a>633</td><td></td><td></td><td></td><td></td><td class="s">        return to_SdbStr($value);<div class="calls"><div class="calls_out">        # spent  5.73ms making 47 calls to <a href="MooseX-Types-pm-block.html#475">MooseX::Types::__ANON__[MooseX/Types.pm:486]</a>, avg 122&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="634"></a>634</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="635"></a>635</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="636"></a>636</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="637"></a>637</td><td></td><td></td><td></td><td></td><td class="s">=head1 LEGAL</td></tr>
<tr><td class="h"><a name="638"></a>638</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="639"></a>639</td><td></td><td></td><td></td><td></td><td class="s">SimpleDB::Class is Copyright 2009-2010 Plain Black Corporation (L&lt;http://www.plainblack.com/&gt;) and is licensed under the same terms as Perl itself.</td></tr>
<tr><td class="h"><a name="640"></a>640</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="641"></a>641</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="642"></a>642</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="643"></a>643</td><td class="c3">1</td><td class="c3"><span title="Avg 15&micro;s">15&micro;s</span></td><td></td><td></td><td class="s">1;</td></tr>
<tr><td class="h"><a name="SimpleDB__Class__Item__CORE_match"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 963&micro;s (451+511) within SimpleDB::Class::Item::CORE:match which was called 89 times, avg 11&micro;s/call:
# 71 times (342&micro;s+303&micro;s) by SimpleDB::Class::Item::stringify_values at <a href="lib-SimpleDB-Class-Item-pm-block.html#623">line 623 of ../lib/SimpleDB/Class/Item.pm</a>, avg 9&micro;s/call
# 18 times (109&micro;s+209&micro;s) by SimpleDB::Class::Item::stringify_value at <a href="lib-SimpleDB-Class-Item-pm-block.html#584">line 584 of ../lib/SimpleDB/Class/Item.pm</a>, avg 18&micro;s/call</div></div>sub SimpleDB::Class::Item::CORE:match; # xsub<br />        </td></tr>
</tbody></table></div>
        
            <script type="text/javascript"> $(document).ready(function() { 

        $("#subs_table").tablesorter({
            sortList: [[3,1]],
            headers: {
                3: { sorter: 'fmt_time' },
                4: { sorter: 'fmt_time' }
            }
        });
    
 } ); </script>
        
        <div class="footer">Report produced by the
        <a href="http://search.cpan.org/dist/Devel-NYTProf/">NYTProf 3.11</a>
        Perl profiler, developed by
        <a href="http://www.linkedin.com/in/timbunce">Tim Bunce</a> and
        <a href="http://code.nytimes.com">Adam Kaplan</a>.
        </div>
        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    </body></html>