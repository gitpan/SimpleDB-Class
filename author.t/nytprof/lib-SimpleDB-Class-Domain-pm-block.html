    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::NYTProf version 3.11
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <title>Profile of /data/SimpleDB-Class/author.t/../lib/SimpleDB/Class/Domain.pm</title>
<link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="js/jquery-min.js"></script> 

    <script type="text/javascript" src="js/jquery-tablesorter-min.js"></script> 
    <link rel="stylesheet" type="text/css" href="js/style-tablesorter.css" />
    <script type="text/javascript">
    // when a column is first clicked on to sort it, use descending order
    // XXX doesn't seem to work (and not just because the tablesorter formatSortingOrder() is broken)
    $.tablesorter.defaults.sortInitialOrder = "desc";
    // add parser through the tablesorter addParser method 
    $.tablesorter.addParser({
        id: 'fmt_time',   // name of this parser
        is: function(s) { 
            return false; // return false so this parser is not auto detected 
        }, 
        format: function(orig) { // format data for normalization 
            // console.log(orig);
            val = orig.replace(/ns/,'');
            if (val != orig) { return val / (1000*1000*1000); } 
            val = orig.replace(/Âµs/,''); /* XXX use &micro; ? */
            if (val != orig) { return val / (1000*1000); } 
            var val = orig.replace(/ms/,'');
            if (val != orig) { return val / (1000); }
            var val = orig.replace(/s/,'');
            if (val != orig) { return val; }
            if (orig == '0') { return orig; } 
            console.log('no match for fmt_time of '.concat(orig));
            return orig;
        },
        type: 'numeric' // set type, either numeric or text 
    }); 
    </script> 
</head>
<body > 
<div class="header" style="position: relative; overflow-x: hidden; overflow-y: hidden; z-index: 0; ">
<div class="header_back">
            <a href="index.html">&larr; Index</a>
        </div>
<div class="headerForeground" style="float: left">
    <span class="siteTitle">NYTProf Performance Profile</span>
    <span class="siteSubtitle">&emsp;&emsp;<span>&laquo;&emsp;<span class="mode_btn mode_btn_selected">block view</span>&emsp;&bull;&emsp;<span class="mode_btn"><a href="lib-SimpleDB-Class-Domain-pm-line.html">line view</a></span>&emsp;&bull;&emsp;<span class="mode_btn"><a href="lib-SimpleDB-Class-Domain-pm-sub.html">sub view</a></span>&emsp;&raquo;</span><br />
            For 05.Domain_and_Item.t
        </span>
</div>
<div class="headerForeground" style="float: right; text-align: right">
    <span class="siteTitle">&nbsp;</span>
    <span class="siteSubtitle">Run on Tue May  4 17:21:41 2010<br />Reported on Tue May  4 17:22:50 2010</span>
</div>
<div style="position: absolute; left: 0px; top: 0%; width: 100%; height: 101%; z-index: -1; background-color: rgb(17, 136, 255); "></div>
<div style="position: absolute; left: 0px; top: 2%; width: 100%; height: 99%; z-index: -1; background-color: rgb(16, 134, 253); "></div>
<div style="position: absolute; left: 0px; top: 4%; width: 100%; height: 97%; z-index: -1; background-color: rgb(16, 133, 252); "></div>
<div style="position: absolute; left: 0px; top: 6%; width: 100%; height: 95%; z-index: -1; background-color: rgb(15, 131, 250); "></div>
<div style="position: absolute; left: 0px; top: 8%; width: 100%; height: 93%; z-index: -1; background-color: rgb(15, 130, 249); "></div>
<div style="position: absolute; left: 0px; top: 10%; width: 100%; height: 91%; z-index: -1; background-color: rgb(15, 129, 248); "></div>
<div style="position: absolute; left: 0px; top: 12%; width: 100%; height: 89%; z-index: -1; background-color: rgb(14, 127, 246); "></div>
<div style="position: absolute; left: 0px; top: 14%; width: 100%; height: 87%; z-index: -1; background-color: rgb(14, 126, 245); "></div>
<div style="position: absolute; left: 0px; top: 16%; width: 100%; height: 85%; z-index: -1; background-color: rgb(14, 125, 244); "></div>
<div style="position: absolute; left: 0px; top: 18%; width: 100%; height: 83%; z-index: -1; background-color: rgb(13, 123, 242); "></div>
<div style="position: absolute; left: 0px; top: 20%; width: 100%; height: 81%; z-index: -1; background-color: rgb(13, 122, 241); "></div>
<div style="position: absolute; left: 0px; top: 22%; width: 100%; height: 79%; z-index: -1; background-color: rgb(13, 121, 240); "></div>
<div style="position: absolute; left: 0px; top: 24%; width: 100%; height: 77%; z-index: -1; background-color: rgb(12, 119, 238); "></div>
<div style="position: absolute; left: 0px; top: 26%; width: 100%; height: 75%; z-index: -1; background-color: rgb(12, 118, 237); "></div>
<div style="position: absolute; left: 0px; top: 28%; width: 100%; height: 73%; z-index: -1; background-color: rgb(12, 116, 235); "></div>
<div style="position: absolute; left: 0px; top: 30%; width: 100%; height: 71%; z-index: -1; background-color: rgb(11, 115, 234); "></div>
<div style="position: absolute; left: 0px; top: 32%; width: 100%; height: 69%; z-index: -1; background-color: rgb(11, 114, 233); "></div>
<div style="position: absolute; left: 0px; top: 34%; width: 100%; height: 67%; z-index: -1; background-color: rgb(11, 112, 231); "></div>
<div style="position: absolute; left: 0px; top: 36%; width: 100%; height: 65%; z-index: -1; background-color: rgb(10, 111, 230); "></div>
<div style="position: absolute; left: 0px; top: 38%; width: 100%; height: 63%; z-index: -1; background-color: rgb(10, 110, 229); "></div>
<div style="position: absolute; left: 0px; top: 40%; width: 100%; height: 61%; z-index: -1; background-color: rgb(10, 108, 227); "></div>
<div style="position: absolute; left: 0px; top: 42%; width: 100%; height: 59%; z-index: -1; background-color: rgb(9, 107, 226); "></div>
<div style="position: absolute; left: 0px; top: 44%; width: 100%; height: 57%; z-index: -1; background-color: rgb(9, 106, 225); "></div>
<div style="position: absolute; left: 0px; top: 46%; width: 100%; height: 55%; z-index: -1; background-color: rgb(9, 104, 223); "></div>
<div style="position: absolute; left: 0px; top: 48%; width: 100%; height: 53%; z-index: -1; background-color: rgb(8, 103, 222); "></div>
<div style="position: absolute; left: 0px; top: 50%; width: 100%; height: 51%; z-index: -1; background-color: rgb(8, 102, 221); "></div>
<div style="position: absolute; left: 0px; top: 52%; width: 100%; height: 49%; z-index: -1; background-color: rgb(8, 100, 219); "></div>
<div style="position: absolute; left: 0px; top: 54%; width: 100%; height: 47%; z-index: -1; background-color: rgb(7, 99, 218); "></div>
<div style="position: absolute; left: 0px; top: 56%; width: 100%; height: 45%; z-index: -1; background-color: rgb(7, 97, 216); "></div>
<div style="position: absolute; left: 0px; top: 58%; width: 100%; height: 43%; z-index: -1; background-color: rgb(7, 96, 215); "></div>
<div style="position: absolute; left: 0px; top: 60%; width: 100%; height: 41%; z-index: -1; background-color: rgb(6, 95, 214); "></div>
<div style="position: absolute; left: 0px; top: 62%; width: 100%; height: 39%; z-index: -1; background-color: rgb(6, 93, 212); "></div>
<div style="position: absolute; left: 0px; top: 64%; width: 100%; height: 37%; z-index: -1; background-color: rgb(6, 92, 211); "></div>
<div style="position: absolute; left: 0px; top: 66%; width: 100%; height: 35%; z-index: -1; background-color: rgb(5, 91, 210); "></div>
<div style="position: absolute; left: 0px; top: 68%; width: 100%; height: 33%; z-index: -1; background-color: rgb(5, 89, 208); "></div>
<div style="position: absolute; left: 0px; top: 70%; width: 100%; height: 31%; z-index: -1; background-color: rgb(5, 88, 207); "></div>
<div style="position: absolute; left: 0px; top: 72%; width: 100%; height: 29%; z-index: -1; background-color: rgb(4, 87, 206); "></div>
<div style="position: absolute; left: 0px; top: 74%; width: 100%; height: 27%; z-index: -1; background-color: rgb(4, 85, 204); "></div>
<div style="position: absolute; left: 0px; top: 76%; width: 100%; height: 25%; z-index: -1; background-color: rgb(4, 84, 203); "></div>
<div style="position: absolute; left: 0px; top: 78%; width: 100%; height: 23%; z-index: -1; background-color: rgb(3, 82, 201); "></div>
<div style="position: absolute; left: 0px; top: 80%; width: 100%; height: 21%; z-index: -1; background-color: rgb(3, 81, 200); "></div>
<div style="position: absolute; left: 0px; top: 82%; width: 100%; height: 19%; z-index: -1; background-color: rgb(3, 80, 199); "></div>
<div style="position: absolute; left: 0px; top: 84%; width: 100%; height: 17%; z-index: -1; background-color: rgb(2, 78, 197); "></div>
<div style="position: absolute; left: 0px; top: 86%; width: 100%; height: 15%; z-index: -1; background-color: rgb(2, 77, 196); "></div>
<div style="position: absolute; left: 0px; top: 88%; width: 100%; height: 13%; z-index: -1; background-color: rgb(2, 76, 195); "></div>
<div style="position: absolute; left: 0px; top: 90%; width: 100%; height: 11%; z-index: -1; background-color: rgb(1, 74, 193); "></div>
<div style="position: absolute; left: 0px; top: 92%; width: 100%; height: 9%; z-index: -1; background-color: rgb(1, 73, 192); "></div>
<div style="position: absolute; left: 0px; top: 94%; width: 100%; height: 7%; z-index: -1; background-color: rgb(1, 72, 191); "></div>
<div style="position: absolute; left: 0px; top: 96%; width: 100%; height: 5%; z-index: -1; background-color: rgb(0, 70, 189); "></div>
<div style="position: absolute; left: 0px; top: 98%; width: 100%; height: 3%; z-index: -1; background-color: rgb(0, 69, 188); "></div>
<div style="position: absolute; left: 0px; top: 100%; width: 100%; height: 1%; z-index: -1; background-color: rgb(0, 68, 187); "></div>
</div>

<div class="body_content">
<br />
<table>
<tr>
<td class="h" align="right">File</td>
<td align="left">/data/SimpleDB-Class/author.t/../lib/SimpleDB/Class/Domain.pm</td>
</tr>
<tr>
<td class="h" align="right">Statements Executed</td>
<td align="left">285</td>
</tr>
<tr>
<td class="h" align="right">Statement Execution Time</td>
<td align="left">3.36ms</td>
</tr>
</table>

        
        <table id="subs_table" border="1" cellpadding="0" class="tablesorter">
        <caption>Subroutines &mdash; ordered by exclusive time</caption>
        <thead>
        <tr>
        <th>Calls</th>
        <th><span title="Number of Places sub is called from">P</span></th>
        <th><span title="Number of Files sub is called from">F</span></th>
        <th>Exclusive<br />Time</th>
        <th>Inclusive<br />Time</th>
        <th>Subroutine</th>
        </tr>
        </thead>
    <tbody>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">1.30ms</span></td><td class="c3"><span title="0.5%">82.4ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::BEGIN@19</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#19">BEGIN@19</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">1.06ms</span></td><td class="c3"><span title="0.7%">115ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::BEGIN@18</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#18">BEGIN@18</a></span></td></tr>
<tr><td class="c0">6</td><td class="c0">6</td><td class="c1">2</td><td class="c0"><span title="0.0%">524&micro;s</span></td><td class="c1"><span title="1.5%">248ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::find</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#147">find</a></span></td></tr>
<tr><td class="c0">11</td><td class="c0">11</td><td class="c3">1</td><td class="c0"><span title="0.0%">359&micro;s</span></td><td class="c0"><span title="22.7%">3.88s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::insert</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#216">insert</a></span></td></tr>
<tr><td class="c0">10</td><td class="c0">8</td><td class="c1">2</td><td class="c1"><span title="0.0%">234&micro;s</span></td><td class="c3"><span title="0.0%">1.71ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::search</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#445">search</a></span></td></tr>
<tr><td class="c3">2</td><td class="c3">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">183&micro;s</span></td><td class="c3"><span title="0.9%">157ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::max</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#335">max</a></span></td></tr>
<tr><td class="c3">2</td><td class="c3">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">138&micro;s</span></td><td class="c3"><span title="0.8%">129ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::min</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#386">min</a></span></td></tr>
<tr><td class="c3">2</td><td class="c3">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">135&micro;s</span></td><td class="c3"><span title="0.8%">140ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::count</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#250">count</a></span></td></tr>
<tr><td class="c0">7</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">116&micro;s</span></td><td class="c3"><span title="0.0%">221&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::__ANON__[../lib/SimpleDB/Class/Domain.pm:59]</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#56">__ANON__[../lib/SimpleDB/Class/Domain.pm:59]</a></span></td></tr>
<tr><td class="c1">3</td><td class="c1">3</td><td class="c3">1</td><td class="c3"><span title="0.0%">100&micro;s</span></td><td class="c0"><span title="32.6%">5.58s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::delete</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#115">delete</a></span></td></tr>
<tr><td class="c1">3</td><td class="c1">3</td><td class="c3">1</td><td class="c3"><span title="0.0%">88&micro;s</span></td><td class="c0"><span title="23.6%">4.05s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::create</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#99">create</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">85&micro;s</span></td><td class="c3"><span title="0.3%">53.1ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::fetch_ids</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#288">fetch_ids</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">32&micro;s</span></td><td class="c3"><span title="0.0%">2.60ms</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::BEGIN@17</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#17">BEGIN@17</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">16&micro;s</span></td><td class="c3"><span title="0.0%">16&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::BEGIN@20</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#20">BEGIN@20</a></span></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">10&micro;s</span></td><td class="c3"><span title="0.0%">129&micro;s</span></td><td class="sub_name"><span style="display: none;">SimpleDB::Class::Domain::::BEGIN@458</span>SimpleDB::Class::Domain::<a href="lib-SimpleDB-Class-Domain-pm-block.html#458">BEGIN@458</a></span></td></tr>

        </tbody>
        </table>
    
        Call graph for these subroutines as a <a href="http://en.wikipedia.org/wiki/Graphviz">Graphviz</a> <a href="data-SimpleDB-Class-author-t-lib-SimpleDB-Class-Domain-pm.dot">dot language file</a>.
      <table border="1" cellpadding="0">
      <thead>
      <tr><th>Line</th>
      <th><span title="Number of statements executed">State<br />ments</span></th>
      <th><span title="Time spend executing statements on the line,
        excluding time spent executing statements in any called subroutines">Time<br />on line</span></th>
      <th><span title="Number of subroutines calls">Calls</span></th>
      <th><span title="Time spent in subroutines called">Time<br />in subs</span></th>
      <th class="left_indent_header">Code</th>
      </tr>

      </thead>
      <tbody>
    <tr><td class="h"><a name="1"></a>1</td><td></td><td></td><td></td><td></td><td class="s">package SimpleDB::Class::Domain;</td></tr>
<tr><td class="h"><a name="2"></a>2</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="3"></a>3</td><td></td><td></td><td></td><td></td><td class="s">=head1 NAME</td></tr>
<tr><td class="h"><a name="4"></a>4</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="5"></a>5</td><td></td><td></td><td></td><td></td><td class="s">SimpleDB::Class::Domain - A schematic representation of a SimpleDB domain.</td></tr>
<tr><td class="h"><a name="6"></a>6</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="7"></a>7</td><td></td><td></td><td></td><td></td><td class="s">=head1 DESCRIPTION</td></tr>
<tr><td class="h"><a name="8"></a>8</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="9"></a>9</td><td></td><td></td><td></td><td></td><td class="s">A subclass of this class is created for each domain in SimpleDB with it's name, attributes, and relationships.</td></tr>
<tr><td class="h"><a name="10"></a>10</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="11"></a>11</td><td></td><td></td><td></td><td></td><td class="s">=head1 METHODS</td></tr>
<tr><td class="h"><a name="12"></a>12</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="13"></a>13</td><td></td><td></td><td></td><td></td><td class="s">The following methods are available from this class.</td></tr>
<tr><td class="h"><a name="14"></a>14</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="15"></a>15</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="16"></a>16</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="17"></a>17</td><td class="c3">3</td><td class="c3"><span title="Avg 11&micro;s">33&micro;s</span></td><td class="c1">2</td><td class="c1">5.18ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 2.60ms (32&micro;s+2.57) within SimpleDB::Class::Domain::BEGIN@17 which was called
#    once (32&micro;s+2.57ms) by SimpleDB::Class::BEGIN@141 at <a href="lib-SimpleDB-Class-Domain-pm-block.html#17">line 17</a></div></div>use Moose;<div class="calls"><div class="calls_out"># spent  2.60ms making 1 call to <a href="lib-SimpleDB-Class-Domain-pm-block.html#17">SimpleDB::Class::Domain::BEGIN@17</a>
# spent  2.57ms making 1 call to <a href="Moose-Exporter-pm-block.html#312">Moose::Exporter::__ANON__[Moose/Exporter.pm:389]</a></div></div></td></tr>
<tr><td class="h"><a name="18"></a>18</td><td class="c3">3</td><td class="c1"><span title="Avg 52&micro;s">155&micro;s</span></td><td class="c3">1</td><td class="c0">115ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 115ms (1.06+114) within SimpleDB::Class::Domain::BEGIN@18 which was called
#    once (1.06ms+114ms) by SimpleDB::Class::BEGIN@141 at <a href="lib-SimpleDB-Class-Domain-pm-block.html#18">line 18</a></div></div>use SimpleDB::Class::SQL;<div class="calls"><div class="calls_out"># spent   115ms making 1 call to <a href="lib-SimpleDB-Class-Domain-pm-block.html#18">SimpleDB::Class::Domain::BEGIN@18</a></div></div></td></tr>
<tr><td class="h"><a name="19"></a>19</td><td class="c3">3</td><td class="c1"><span title="Avg 53&micro;s">159&micro;s</span></td><td class="c3">1</td><td class="c0">82.4ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 82.4ms (1.30+81.1) within SimpleDB::Class::Domain::BEGIN@19 which was called
#    once (1.30ms+81.1ms) by SimpleDB::Class::BEGIN@141 at <a href="lib-SimpleDB-Class-Domain-pm-block.html#19">line 19</a></div></div>use SimpleDB::Class::ResultSet;<div class="calls"><div class="calls_out"># spent  82.4ms making 1 call to <a href="lib-SimpleDB-Class-Domain-pm-block.html#19">SimpleDB::Class::Domain::BEGIN@19</a></div></div></td></tr>
<tr><td class="h"><a name="20"></a>20</td><td class="c3">3</td><td class="c0"><span title="Avg 423&micro;s">1.27ms</span></td><td class="c3">1</td><td class="c3">16&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 16&micro;s within SimpleDB::Class::Domain::BEGIN@20 which was called
#    once (16&micro;s+0s) by SimpleDB::Class::BEGIN@141 at <a href="lib-SimpleDB-Class-Domain-pm-block.html#20">line 20</a></div></div>use SimpleDB::Class::Exception;<div class="calls"><div class="calls_out"># spent    16&micro;s making 1 call to <a href="lib-SimpleDB-Class-Domain-pm-block.html#20">SimpleDB::Class::Domain::BEGIN@20</a></div></div></td></tr>
<tr><td class="h"><a name="21"></a>21</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="22"></a>22</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="23"></a>23</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="24"></a>24</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="25"></a>25</td><td></td><td></td><td></td><td></td><td class="s">=head2 new ( params ) </td></tr>
<tr><td class="h"><a name="26"></a>26</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="27"></a>27</td><td></td><td></td><td></td><td></td><td class="s">Constructor. Normally you should never call this method yourself, instead use the domain() method in L&lt;SimpleDB::Class&gt;.</td></tr>
<tr><td class="h"><a name="28"></a>28</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="29"></a>29</td><td></td><td></td><td></td><td></td><td class="s">=head3 params</td></tr>
<tr><td class="h"><a name="30"></a>30</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="31"></a>31</td><td></td><td></td><td></td><td></td><td class="s">A hash containing the parameters needed to construct this object.</td></tr>
<tr><td class="h"><a name="32"></a>32</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="33"></a>33</td><td></td><td></td><td></td><td></td><td class="s">=head4 simpledb</td></tr>
<tr><td class="h"><a name="34"></a>34</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="35"></a>35</td><td></td><td></td><td></td><td></td><td class="s">Required. A reference to a L&lt;SimpleDB::Class&gt; object.</td></tr>
<tr><td class="h"><a name="36"></a>36</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="37"></a>37</td><td></td><td></td><td></td><td></td><td class="s">=head4 name</td></tr>
<tr><td class="h"><a name="38"></a>38</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="39"></a>39</td><td></td><td></td><td></td><td></td><td class="s">Required. The SimpleDB domain name associated with this class.</td></tr>
<tr><td class="h"><a name="40"></a>40</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="41"></a>41</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="42"></a>42</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="43"></a>43</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="44"></a>44</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="45"></a>45</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="46"></a>46</td><td></td><td></td><td></td><td></td><td class="s">=head2 item_class ( )</td></tr>
<tr><td class="h"><a name="47"></a>47</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="48"></a>48</td><td></td><td></td><td></td><td></td><td class="s">Returns the L&lt;SimpleDB::Class::Item&gt; subclass name passed into the constructor.</td></tr>
<tr><td class="h"><a name="49"></a>49</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="50"></a>50</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="51"></a>51</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="52"></a>52</td><td></td><td></td><td></td><td></td><td class="s">has item_class =&gt; (</td></tr>
<tr><td class="h"><a name="53"></a>53</td><td></td><td></td><td></td><td></td><td class="s">    is          =&gt; 'ro',</td></tr>
<tr><td class="h"><a name="54"></a>54</td><td></td><td></td><td></td><td></td><td class="s">    isa         =&gt; 'Str',</td></tr>
<tr><td class="h"><a name="55"></a>55</td><td></td><td></td><td></td><td></td><td class="s">    required    =&gt; 1,</td></tr>
<tr><td class="h"><a name="56"></a>56</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 221&micro;s (116+105) within SimpleDB::Class::Domain::__ANON__[../lib/SimpleDB/Class/Domain.pm:59] which was called 7 times, avg 32&micro;s/call:
# 7 times (116&micro;s+105&micro;s) by SimpleDB::Class::Domain::new at <a href="generated method (unknown origin)-block.html#32">line 32 of generated method (unknown origin)</a>, avg 32&micro;s/call</div></div>    trigger     =&gt; sub {</td></tr>
<tr><td class="h"><a name="57"></a>57</td><td class="c1">14</td><td class="c3"><span title="Avg 6&micro;s">86&micro;s</span></td><td></td><td></td><td class="s">        my ($self, $item, $old) = @_;</td></tr>
<tr><td class="h"><a name="58"></a>58</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;name($item-&gt;domain_name);<div class="calls"><div class="calls_out">        # spent    84&micro;s making 7 calls to <a >SimpleDB::Class::Domain::name</a>, avg 12&micro;s/call
        # spent     8&micro;s making 3 calls to <a >Foo::Domain::domain_name</a>, avg 3&micro;s/call
        # spent     7&micro;s making 2 calls to <a >Foo::Child::domain_name</a>, avg 3&micro;s/call
        # spent     6&micro;s making 2 calls to <a >Foo::Parent::domain_name</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="59"></a>59</td><td></td><td></td><td></td><td></td><td class="s">    },</td></tr>
<tr><td class="h"><a name="60"></a>60</td><td class="c3">1</td><td class="c3"><span title="Avg 6&micro;s">6&micro;s</span></td><td class="c3">1</td><td class="c3">1.35ms</td><td class="s">);<div class="calls"><div class="calls_out"># spent  1.35ms making 1 call to <a href="Moose-pm-block.html#60">Moose::has</a></div></div></td></tr>
<tr><td class="h"><a name="61"></a>61</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="62"></a>62</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">3.12ms</td><td class="s">with 'SimpleDB::Class::Role::Itemized';<div class="calls"><div class="calls_out"># spent  3.12ms making 1 call to <a href="Moose-pm-block.html#56">Moose::with</a></div></div></td></tr>
<tr><td class="h"><a name="63"></a>63</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="64"></a>64</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="65"></a>65</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="66"></a>66</td><td></td><td></td><td></td><td></td><td class="s">=head2 name ( )</td></tr>
<tr><td class="h"><a name="67"></a>67</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="68"></a>68</td><td></td><td></td><td></td><td></td><td class="s">Returns the name determined automatically by the item_class passed into the constructor.</td></tr>
<tr><td class="h"><a name="69"></a>69</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="70"></a>70</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="71"></a>71</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="72"></a>72</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">1.22ms</td><td class="s">has name =&gt; (<div class="calls"><div class="calls_out"># spent  1.22ms making 1 call to <a href="Moose-pm-block.html#60">Moose::has</a></div></div></td></tr>
<tr><td class="h"><a name="73"></a>73</td><td></td><td></td><td></td><td></td><td class="s">    is          =&gt; 'rw',</td></tr>
<tr><td class="h"><a name="74"></a>74</td><td></td><td></td><td></td><td></td><td class="s">    isa         =&gt; 'Str',</td></tr>
<tr><td class="h"><a name="75"></a>75</td><td></td><td></td><td></td><td></td><td class="s">    default     =&gt; undef,</td></tr>
<tr><td class="h"><a name="76"></a>76</td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h"><a name="77"></a>77</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="78"></a>78</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="79"></a>79</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="80"></a>80</td><td></td><td></td><td></td><td></td><td class="s">=head2 simpledb ( )</td></tr>
<tr><td class="h"><a name="81"></a>81</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="82"></a>82</td><td></td><td></td><td></td><td></td><td class="s">Returns the L&lt;SimpleDB::Class&gt; object set in the constructor.</td></tr>
<tr><td class="h"><a name="83"></a>83</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="84"></a>84</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="85"></a>85</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="86"></a>86</td><td class="c3">1</td><td class="c3"><span title="Avg 2&micro;s">2&micro;s</span></td><td class="c3">1</td><td class="c3">955&micro;s</td><td class="s">has simpledb =&gt; (<div class="calls"><div class="calls_out"># spent   955&micro;s making 1 call to <a href="Moose-pm-block.html#60">Moose::has</a></div></div></td></tr>
<tr><td class="h"><a name="87"></a>87</td><td></td><td></td><td></td><td></td><td class="s">    is          =&gt; 'ro',</td></tr>
<tr><td class="h"><a name="88"></a>88</td><td></td><td></td><td></td><td></td><td class="s">    required    =&gt; 1,</td></tr>
<tr><td class="h"><a name="89"></a>89</td><td></td><td></td><td></td><td></td><td class="s">);</td></tr>
<tr><td class="h"><a name="90"></a>90</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="91"></a>91</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="92"></a>92</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="93"></a>93</td><td></td><td></td><td></td><td></td><td class="s">=head2 create  ( )</td></tr>
<tr><td class="h"><a name="94"></a>94</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="95"></a>95</td><td></td><td></td><td></td><td></td><td class="s">Creates this domain in the SimpleDB.</td></tr>
<tr><td class="h"><a name="96"></a>96</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="97"></a>97</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="98"></a>98</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="99"></a>99</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 4.05s (88&micro;s+4.05) within SimpleDB::Class::Domain::create which was called 3 times, avg 1.35s/call:
#    once (35&micro;s+1.55s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#25">line 25 of 05.Domain_and_Item.t</a>
#    once (27&micro;s+1.25s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#77">line 77 of 05.Domain_and_Item.t</a>
#    once (26&micro;s+1.25s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#36">line 36 of 05.Domain_and_Item.t</a></div></div>sub create {</td></tr>
<tr><td class="h"><a name="100"></a>100</td><td class="c2">9</td><td class="c3"><span title="Avg 9&micro;s">77&micro;s</span></td><td></td><td></td><td class="s">    my ($self) = @_;</td></tr>
<tr><td class="h"><a name="101"></a>101</td><td></td><td></td><td></td><td></td><td class="s">    my $db = $self-&gt;simpledb;<div class="calls"><div class="calls_out">    # spent     9&micro;s making 3 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="102"></a>102</td><td></td><td></td><td></td><td></td><td class="s">    $db-&gt;http-&gt;send_request('CreateDomain', {<div class="calls"><div class="calls_out">    # spent  4.04s making 3 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 1.35s/call
    # spent  8.46ms making 3 calls to <a >SimpleDB::Class::http</a>, avg 2.82ms/call
    # spent    34&micro;s making 3 calls to <a href="lib-SimpleDB-Class-pm-block.html#301">SimpleDB::Class::add_domain_prefix</a>, avg 11&micro;s/call
    # spent     9&micro;s making 3 calls to <a >SimpleDB::Class::Domain::name</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="103"></a>103</td><td></td><td></td><td></td><td></td><td class="s">        DomainName =&gt; $db-&gt;add_domain_prefix($self-&gt;name),</td></tr>
<tr><td class="h"><a name="104"></a>104</td><td></td><td></td><td></td><td></td><td class="s">    });</td></tr>
<tr><td class="h"><a name="105"></a>105</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="106"></a>106</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="107"></a>107</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="108"></a>108</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="109"></a>109</td><td></td><td></td><td></td><td></td><td class="s">=head2 delete ( )</td></tr>
<tr><td class="h"><a name="110"></a>110</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="111"></a>111</td><td></td><td></td><td></td><td></td><td class="s">Deletes this domain from the SimpleDB.</td></tr>
<tr><td class="h"><a name="112"></a>112</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="113"></a>113</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="114"></a>114</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="115"></a>115</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 5.58s (100&micro;s+5.58) within SimpleDB::Class::Domain::delete which was called 3 times, avg 1.86s/call:
#    once (33&micro;s+3.34s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#144">line 144 of 05.Domain_and_Item.t</a>
#    once (36&micro;s+1.13s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#143">line 143 of 05.Domain_and_Item.t</a>
#    once (31&micro;s+1.12s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#145">line 145 of 05.Domain_and_Item.t</a></div></div>sub delete {</td></tr>
<tr><td class="h"><a name="116"></a>116</td><td class="c2">9</td><td class="c3"><span title="Avg 9&micro;s">85&micro;s</span></td><td></td><td></td><td class="s">    my ($self) = @_;</td></tr>
<tr><td class="h"><a name="117"></a>117</td><td></td><td></td><td></td><td></td><td class="s">    my $db = $self-&gt;simpledb;<div class="calls"><div class="calls_out">    # spent    13&micro;s making 3 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="118"></a>118</td><td></td><td></td><td></td><td></td><td class="s">    $db-&gt;http-&gt;send_request('DeleteDomain', {<div class="calls"><div class="calls_out">    # spent  5.58s making 3 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 1.86s/call
    # spent    38&micro;s making 3 calls to <a href="lib-SimpleDB-Class-pm-block.html#301">SimpleDB::Class::add_domain_prefix</a>, avg 13&micro;s/call
    # spent    21&micro;s making 3 calls to <a >SimpleDB::Class::http</a>, avg 7&micro;s/call
    # spent    15&micro;s making 3 calls to <a >SimpleDB::Class::Domain::name</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="119"></a>119</td><td></td><td></td><td></td><td></td><td class="s">        DomainName =&gt; $db-&gt;add_domain_prefix($self-&gt;name),</td></tr>
<tr><td class="h"><a name="120"></a>120</td><td></td><td></td><td></td><td></td><td class="s">    });</td></tr>
<tr><td class="h"><a name="121"></a>121</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="122"></a>122</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="123"></a>123</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="124"></a>124</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="125"></a>125</td><td></td><td></td><td></td><td></td><td class="s">=head2 find ( id, [ options ] )</td></tr>
<tr><td class="h"><a name="126"></a>126</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="127"></a>127</td><td></td><td></td><td></td><td></td><td class="s">Retrieves an item from the SimpleDB by ID and then returns a L&lt;SimpleDB::Class::Item&gt; object.</td></tr>
<tr><td class="h"><a name="128"></a>128</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="129"></a>129</td><td></td><td></td><td></td><td></td><td class="s">=head3 id</td></tr>
<tr><td class="h"><a name="130"></a>130</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="131"></a>131</td><td></td><td></td><td></td><td></td><td class="s">The unique identifier (called ItemName in AWS documentation) of the item to retrieve.</td></tr>
<tr><td class="h"><a name="132"></a>132</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="133"></a>133</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="134"></a>134</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="135"></a>135</td><td></td><td></td><td></td><td></td><td class="s">A hash which allows options to modify the retrieval. </td></tr>
<tr><td class="h"><a name="136"></a>136</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="137"></a>137</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="138"></a>138</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="139"></a>139</td><td></td><td></td><td></td><td></td><td class="s">A boolean that if set true will get around Eventual Consistency, but at a reduced performance. Note that since L&lt;SimpleDB::Class&gt; fetches requests by id (like this one) directly from memcached, this option should never be needed. It is provided only for completeness. </td></tr>
<tr><td class="h"><a name="140"></a>140</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="141"></a>141</td><td></td><td></td><td></td><td></td><td class="s">=head4 set</td></tr>
<tr><td class="h"><a name="142"></a>142</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="143"></a>143</td><td></td><td></td><td></td><td></td><td class="s">A hash reference of attribute names paired with values that should be set as soon as the item is instantiated. This is useful for prefilling cache attributes, and is used by the C&lt;belongs_to&gt; method for that purpose. Doing so prevents stale object references.</td></tr>
<tr><td class="h"><a name="144"></a>144</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="145"></a>145</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="146"></a>146</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="147"></a>147</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 248ms (524&micro;s+248) within SimpleDB::Class::Domain::find which was called 6 times, avg 41.4ms/call:
#    once (149&micro;s+138ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#106">line 106 of 05.Domain_and_Item.t</a>
#    once (132&micro;s+96.4ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#129">line 129 of 05.Domain_and_Item.t</a>
#    once (93&micro;s+4.72ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#39">line 39 of 05.Domain_and_Item.t</a>
#    once (75&micro;s+4.32ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#83">line 83 of 05.Domain_and_Item.t</a>
#    once (35&micro;s+2.86ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#88">line 88 of 05.Domain_and_Item.t</a>
#    once (39&micro;s+1.10ms) by SimpleDB::Class::Item::__ANON__[../lib/SimpleDB/Class/Item.pm:280] at <a href="lib-SimpleDB-Class-Item-pm-block.html#279">line 279 of ../lib/SimpleDB/Class/Item.pm</a></div></div>sub find {</td></tr>
<tr><td class="h"><a name="148"></a>148</td><td class="c0">72</td><td class="c0"><span title="Avg 5&micro;s">342&micro;s</span></td><td></td><td></td><td class="s">    my ($self, $id, %options) = @_;</td></tr>
<tr><td class="h"><a name="149"></a>149</td><td></td><td></td><td></td><td></td><td class="s">    SimpleDB::Class::Exception::InvalidParam-&gt;throw(name=&gt;'id', value=&gt;undef) unless defined $id;</td></tr>
<tr><td class="h"><a name="150"></a>150</td><td></td><td></td><td></td><td></td><td class="s">    my $db = $self-&gt;simpledb;<div class="calls"><div class="calls_out">    # spent    22&micro;s making 6 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="151"></a>151</td><td></td><td></td><td></td><td></td><td class="s">    my $cache = $db-&gt;cache;<div class="calls"><div class="calls_out">    # spent    25&micro;s making 6 calls to <a >SimpleDB::Class::cache</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="152"></a>152</td><td></td><td></td><td></td><td></td><td class="s">    my $name = $db-&gt;add_domain_prefix($self-&gt;name);<div class="calls"><div class="calls_out">    # spent    69&micro;s making 6 calls to <a href="lib-SimpleDB-Class-pm-block.html#301">SimpleDB::Class::add_domain_prefix</a>, avg 12&micro;s/call
    # spent    24&micro;s making 6 calls to <a >SimpleDB::Class::Domain::name</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="153"></a>153</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="154"></a>154</td><td></td><td></td><td></td><td></td><td class="s">    # instantiate item</td></tr>
<tr><td class="h"><a name="155"></a>155</td><td class="c3">6</td><td class="c3"><span title="Avg 4&micro;s">21&micro;s</span></td><td class="c0">6</td><td class="c1">6.90ms</td><td class="s">    my $attributes = eval{$cache-&gt;get($name, $id)};<div class="calls"><div class="calls_out">    # spent  6.90ms making 6 calls to <a href="lib-SimpleDB-Class-Cache-pm-block.html#252">SimpleDB::Class::Cache::get</a>, avg 1.15ms/call</div></div></td></tr>
<tr><td class="h"><a name="156"></a>156</td><td></td><td></td><td></td><td></td><td class="s">    my $e;</td></tr>
<tr><td class="h"><a name="157"></a>157</td><td></td><td></td><td></td><td></td><td class="s">    my $item;</td></tr>
<tr><td class="h"><a name="158"></a>158</td><td class="c2">10</td><td class="c3"><span title="Avg 7&micro;s">73&micro;s</span></td><td class="c0">16</td><td class="c0">7.89ms</td><td class="s">    if (SimpleDB::Class::Exception::ObjectNotFound-&gt;caught) {<div class="calls"><div class="calls_out">    # spent  7.74ms making  4 calls to <a href="lib-SimpleDB-Class-Role-Itemized-pm-block.html#46">SimpleDB::Class::Role::Itemized::instantiate_item</a>, avg 1.94ms/call
    # spent   143&micro;s making 10 calls to <a href="Exception-Class-Base-pm-block.html#213">Exception::Class::Base::caught</a>, avg 14&micro;s/call
    # spent     6&micro;s making  2 calls to <a href="Exception-Class-Base-pm-block.html#30">Exception::Class::Base::__ANON__[Exception/Class/Base.pm:30]</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="159"></a>159</td><td></td><td></td><td></td><td></td><td class="s">        my %params = ( </td></tr>
<tr><td class="h"><a name="160"></a>160</td><td></td><td></td><td></td><td></td><td class="s">            ItemName    =&gt; $id,</td></tr>
<tr><td class="h"><a name="161"></a>161</td><td></td><td></td><td></td><td></td><td class="s">            DomainName  =&gt; $name,</td></tr>
<tr><td class="h"><a name="162"></a>162</td><td></td><td></td><td></td><td></td><td class="s">        );</td></tr>
<tr><td class="h"><a name="163"></a>163</td><td></td><td></td><td></td><td></td><td class="s">        if ($options{consistent}) {</td></tr>
<tr><td class="h"><a name="164"></a>164</td><td></td><td></td><td></td><td></td><td class="s">            $params{ConsistentRead} = 'true';</td></tr>
<tr><td class="h"><a name="165"></a>165</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="166"></a>166</td><td></td><td></td><td></td><td></td><td class="s">        my $result = $db-&gt;http-&gt;send_request('GetAttributes', \%params);<div class="calls"><div class="calls_out">        # spent   202ms making 2 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 101ms/call
        # spent    13&micro;s making 2 calls to <a >SimpleDB::Class::http</a>, avg 6&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="167"></a>167</td><td></td><td></td><td></td><td></td><td class="s">        $item = $self-&gt;parse_item($id, $result-&gt;{GetAttributesResult}{Attribute});<div class="calls"><div class="calls_out">        # spent  29.7ms making 2 calls to <a href="lib-SimpleDB-Class-Role-Itemized-pm-block.html#99">SimpleDB::Class::Role::Itemized::parse_item</a>, avg 14.8ms/call</div></div></td></tr>
<tr><td class="h"><a name="168"></a>168</td><td></td><td></td><td></td><td></td><td class="s">        if (defined $item) {<div class="calls"><div class="calls_out">        # spent   770&micro;s making 2 calls to <a href="lib-SimpleDB-Class-Cache-pm-block.html#377">SimpleDB::Class::Cache::set</a>, avg 385&micro;s/call
        # spent   210&micro;s making 2 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#510">SimpleDB::Class::Item::to_hashref</a>, avg 105&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="169"></a>169</td><td></td><td></td><td></td><td></td><td class="s">            $cache-&gt;set($name, $id, $item-&gt;to_hashref);</td></tr>
<tr><td class="h"><a name="170"></a>170</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="171"></a>171</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="172"></a>172</td><td></td><td></td><td></td><td></td><td class="s">    elsif (my $e = SimpleDB::Class::Exception-&gt;caught) {</td></tr>
<tr><td class="h"><a name="173"></a>173</td><td></td><td></td><td></td><td></td><td class="s">        warn $e-&gt;error;</td></tr>
<tr><td class="h"><a name="174"></a>174</td><td></td><td></td><td></td><td></td><td class="s">        $e-&gt;rethrow;</td></tr>
<tr><td class="h"><a name="175"></a>175</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="176"></a>176</td><td></td><td></td><td></td><td></td><td class="s">    elsif (defined $attributes) {</td></tr>
<tr><td class="h"><a name="177"></a>177</td><td></td><td></td><td></td><td></td><td class="s">        $item = $self-&gt;instantiate_item($attributes, $id);</td></tr>
<tr><td class="h"><a name="178"></a>178</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="179"></a>179</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="180"></a>180</td><td></td><td></td><td></td><td></td><td class="s">        SimpleDB::Class::Exception-&gt;throw(error=&gt;&quot;An undefined error occured while fetching the item.&quot;);</td></tr>
<tr><td class="h"><a name="181"></a>181</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="182"></a>182</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="183"></a>183</td><td></td><td></td><td></td><td></td><td class="s">    # process the 'set' option</td></tr>
<tr><td class="h"><a name="184"></a>184</td><td></td><td></td><td></td><td></td><td class="s">    return undef unless defined $item;</td></tr>
<tr><td class="h"><a name="185"></a>185</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $attribute (keys %{$options{set}}) {</td></tr>
<tr><td class="h"><a name="186"></a>186</td><td class="c3">1</td><td class="c3"><span title="Avg 5&micro;s">5&micro;s</span></td><td class="c3">1</td><td class="c3">6&micro;s</td><td class="s">        $item-&gt;$attribute( $options{set}{$attribute} );<div class="calls"><div class="calls_out">        # spent     6&micro;s making 1 call to <a >Foo::Domain::parent</a></div></div></td></tr>
<tr><td class="h"><a name="187"></a>187</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="188"></a>188</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="189"></a>189</td><td></td><td></td><td></td><td></td><td class="s">    return $item;</td></tr>
<tr><td class="h"><a name="190"></a>190</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="191"></a>191</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="192"></a>192</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="193"></a>193</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="194"></a>194</td><td></td><td></td><td></td><td></td><td class="s">=head2 insert ( attributes, [ options ] ) </td></tr>
<tr><td class="h"><a name="195"></a>195</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="196"></a>196</td><td></td><td></td><td></td><td></td><td class="s">Adds a new item to this domain.</td></tr>
<tr><td class="h"><a name="197"></a>197</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="198"></a>198</td><td></td><td></td><td></td><td></td><td class="s">=head3 attributes</td></tr>
<tr><td class="h"><a name="199"></a>199</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="200"></a>200</td><td></td><td></td><td></td><td></td><td class="s">A hash reference of name value pairs to insert as attributes into this item.</td></tr>
<tr><td class="h"><a name="201"></a>201</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="202"></a>202</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="203"></a>203</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="204"></a>204</td><td></td><td></td><td></td><td></td><td class="s">A hash of extra options to modify the put.</td></tr>
<tr><td class="h"><a name="205"></a>205</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="206"></a>206</td><td></td><td></td><td></td><td></td><td class="s">=head4 id</td></tr>
<tr><td class="h"><a name="207"></a>207</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="208"></a>208</td><td></td><td></td><td></td><td></td><td class="s">Optionally specify a unqiue id for this item.</td></tr>
<tr><td class="h"><a name="209"></a>209</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="210"></a>210</td><td></td><td></td><td></td><td></td><td class="s">=head4 set </td></tr>
<tr><td class="h"><a name="211"></a>211</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="212"></a>212</td><td></td><td></td><td></td><td></td><td class="s">A hash reference of attribute names paired with values that should be set as soon as the item is instantiated. This is useful for prefilling cache attributes to prevent stale object references.</td></tr>
<tr><td class="h"><a name="213"></a>213</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="214"></a>214</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="215"></a>215</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="216"></a>216</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 3.88s (359&micro;s+3.88) within SimpleDB::Class::Domain::insert which was called 11 times, avg 353ms/call:
#    once (25&micro;s+1.32s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#126">line 126 of 05.Domain_and_Item.t</a>
#    once (31&micro;s+492ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#33">line 33 of 05.Domain_and_Item.t</a>
#    once (27&micro;s+340ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#38">line 38 of 05.Domain_and_Item.t</a>
#    once (25&micro;s+337ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#104">line 104 of 05.Domain_and_Item.t</a>
#    once (61&micro;s+319ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#44">line 44 of 05.Domain_and_Item.t</a>
#    once (24&micro;s+318ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#41">line 41 of 05.Domain_and_Item.t</a>
#    once (29&micro;s+293ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#32">line 32 of 05.Domain_and_Item.t</a>
#    once (30&micro;s+132ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#78">line 78 of 05.Domain_and_Item.t</a>
#    once (50&micro;s+122ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#45">line 45 of 05.Domain_and_Item.t</a>
#    once (27&micro;s+116ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#37">line 37 of 05.Domain_and_Item.t</a>
#    once (29&micro;s+87.8ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#80">line 80 of 05.Domain_and_Item.t</a></div></div>sub insert {</td></tr>
<tr><td class="h"><a name="217"></a>217</td><td class="c0">44</td><td class="c0"><span title="Avg 7&micro;s">287&micro;s</span></td><td></td><td></td><td class="s">    my ($self, $attributes, %options) = @_;</td></tr>
<tr><td class="h"><a name="218"></a>218</td><td></td><td></td><td></td><td></td><td class="s">    my $item = $self-&gt;instantiate_item($attributes, $options{id})-&gt;put;<div class="calls"><div class="calls_out">    # spent  3.86s making 11 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#474">SimpleDB::Class::Item::put</a>, avg 351ms/call
    # spent  16.6ms making 11 calls to <a href="lib-SimpleDB-Class-Role-Itemized-pm-block.html#46">SimpleDB::Class::Role::Itemized::instantiate_item</a>, avg 1.51ms/call</div></div></td></tr>
<tr><td class="h"><a name="219"></a>219</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="220"></a>220</td><td></td><td></td><td></td><td></td><td class="s">    # process 'set' option</td></tr>
<tr><td class="h"><a name="221"></a>221</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $attribute (keys %{$options{set}}) {</td></tr>
<tr><td class="h"><a name="222"></a>222</td><td></td><td></td><td></td><td></td><td class="s">        $item-&gt;$attribute( $options{set}{$attribute} );</td></tr>
<tr><td class="h"><a name="223"></a>223</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="224"></a>224</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="225"></a>225</td><td></td><td></td><td></td><td></td><td class="s">    return $item;</td></tr>
<tr><td class="h"><a name="226"></a>226</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="227"></a>227</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="228"></a>228</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="229"></a>229</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="230"></a>230</td><td></td><td></td><td></td><td></td><td class="s">=head2 count ( [ options ] ) </td></tr>
<tr><td class="h"><a name="231"></a>231</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="232"></a>232</td><td></td><td></td><td></td><td></td><td class="s">Returns an integer indicating how many items are in this domain.</td></tr>
<tr><td class="h"><a name="233"></a>233</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="234"></a>234</td><td></td><td></td><td></td><td></td><td class="s">WARNING: With this method you need to be aware that SimpleDB is eventually consistent. See L&lt;SimpleDB::Class/&quot;Eventual Consistency&quot;&gt; for details.</td></tr>
<tr><td class="h"><a name="235"></a>235</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="236"></a>236</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="237"></a>237</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="238"></a>238</td><td></td><td></td><td></td><td></td><td class="s">A hash containing options to modify the count.</td></tr>
<tr><td class="h"><a name="239"></a>239</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="240"></a>240</td><td></td><td></td><td></td><td></td><td class="s">=head4 where</td></tr>
<tr><td class="h"><a name="241"></a>241</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="242"></a>242</td><td></td><td></td><td></td><td></td><td class="s">A where clause as defined in L&lt;SimpleDB::Class::SQL&gt; if you want to count only a certain number of items in the domain.</td></tr>
<tr><td class="h"><a name="243"></a>243</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="244"></a>244</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="245"></a>245</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="246"></a>246</td><td></td><td></td><td></td><td></td><td class="s">A boolean that if set true will get around Eventual Consistency, but at a reduced performance.</td></tr>
<tr><td class="h"><a name="247"></a>247</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="248"></a>248</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="249"></a>249</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="250"></a>250</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 140ms (135&micro;s+140) within SimpleDB::Class::Domain::count which was called 2 times, avg 70.1ms/call:
#    once (76&micro;s+76.6ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#31">line 31 of 05.Domain_and_Item.t</a>
#    once (60&micro;s+63.5ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#34">line 34 of 05.Domain_and_Item.t</a></div></div>sub count {</td></tr>
<tr><td class="h"><a name="251"></a>251</td><td class="c1">12</td><td class="c3"><span title="Avg 9&micro;s">112&micro;s</span></td><td></td><td></td><td class="s">    my ($self, %options) = @_;</td></tr>
<tr><td class="h"><a name="252"></a>252</td><td></td><td></td><td></td><td></td><td class="s">    my $select = SimpleDB::Class::SQL-&gt;new(<div class="calls"><div class="calls_out">    # spent    93&micro;s making 2 calls to <a >SimpleDB::Class::SQL::new</a>, avg 47&micro;s/call
    # spent    11&micro;s making 2 calls to <a >SimpleDB::Class::Domain::item_class</a>, avg 5&micro;s/call
    # spent     9&micro;s making 2 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="253"></a>253</td><td></td><td></td><td></td><td></td><td class="s">        item_class  =&gt; $self-&gt;item_class,</td></tr>
<tr><td class="h"><a name="254"></a>254</td><td></td><td></td><td></td><td></td><td class="s">        simpledb    =&gt; $self-&gt;simpledb,</td></tr>
<tr><td class="h"><a name="255"></a>255</td><td></td><td></td><td></td><td></td><td class="s">        where       =&gt; $options{where},</td></tr>
<tr><td class="h"><a name="256"></a>256</td><td></td><td></td><td></td><td></td><td class="s">        output      =&gt; 'count(*)',</td></tr>
<tr><td class="h"><a name="257"></a>257</td><td></td><td></td><td></td><td></td><td class="s">    );</td></tr>
<tr><td class="h"><a name="258"></a>258</td><td></td><td></td><td></td><td></td><td class="s">    my %params = ( SelectExpression    =&gt; $select-&gt;to_sql );<div class="calls"><div class="calls_out">    # spent   308&micro;s making 2 calls to <a href="lib-SimpleDB-Class-SQL-pm-block.html#353">SimpleDB::Class::SQL::to_sql</a>, avg 154&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="259"></a>259</td><td></td><td></td><td></td><td></td><td class="s">    if ($options{consistent}) {</td></tr>
<tr><td class="h"><a name="260"></a>260</td><td></td><td></td><td></td><td></td><td class="s">        $params{ConsistentRead} = 'true';</td></tr>
<tr><td class="h"><a name="261"></a>261</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="262"></a>262</td><td></td><td></td><td></td><td></td><td class="s">    my $result = $self-&gt;simpledb-&gt;http-&gt;send_request('Select', \%params);<div class="calls"><div class="calls_out">    # spent   140ms making 2 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 69.8ms/call
    # spent    11&micro;s making 2 calls to <a >SimpleDB::Class::http</a>, avg 6&micro;s/call
    # spent     4&micro;s making 2 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="263"></a>263</td><td></td><td></td><td></td><td></td><td class="s">    return $result-&gt;{SelectResult}{Item}[0]{Attribute}{Value};</td></tr>
<tr><td class="h"><a name="264"></a>264</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="265"></a>265</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="266"></a>266</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="267"></a>267</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="268"></a>268</td><td></td><td></td><td></td><td></td><td class="s">=head2 fetch_ids ( [ options ] ) </td></tr>
<tr><td class="h"><a name="269"></a>269</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="270"></a>270</td><td></td><td></td><td></td><td></td><td class="s">Returns an array reference of ids (itemName()s) in the domain.</td></tr>
<tr><td class="h"><a name="271"></a>271</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="272"></a>272</td><td></td><td></td><td></td><td></td><td class="s">WARNING: With this method you need to be aware that SimpleDB is eventually consistent. See L&lt;SimpleDB::Class/&quot;Eventual Consistency&quot;&gt; for details.</td></tr>
<tr><td class="h"><a name="273"></a>273</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="274"></a>274</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="275"></a>275</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="276"></a>276</td><td></td><td></td><td></td><td></td><td class="s">A hash containing options to modify the array reference.</td></tr>
<tr><td class="h"><a name="277"></a>277</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="278"></a>278</td><td></td><td></td><td></td><td></td><td class="s">=head4 where</td></tr>
<tr><td class="h"><a name="279"></a>279</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="280"></a>280</td><td></td><td></td><td></td><td></td><td class="s">A where clause as defined in L&lt;SimpleDB::Class::SQL&gt; if you want to fetch only a certain number of items in the domain.</td></tr>
<tr><td class="h"><a name="281"></a>281</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="282"></a>282</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="283"></a>283</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="284"></a>284</td><td></td><td></td><td></td><td></td><td class="s">Defaults to 0. A boolean that if set true will get around Eventual Consistency, but at a reduced performance.</td></tr>
<tr><td class="h"><a name="285"></a>285</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="286"></a>286</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="287"></a>287</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="288"></a>288</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 53.1ms (85&micro;s+53.0) within SimpleDB::Class::Domain::fetch_ids which was called
#    once (85&micro;s+53.0ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#139">line 139 of 05.Domain_and_Item.t</a></div></div>sub fetch_ids {</td></tr>
<tr><td class="h"><a name="289"></a>289</td><td class="c2">9</td><td class="c3"><span title="Avg 7&micro;s">61&micro;s</span></td><td></td><td></td><td class="s">    my ($self, %options) = @_;</td></tr>
<tr><td class="h"><a name="290"></a>290</td><td></td><td></td><td></td><td></td><td class="s">    my $select = SimpleDB::Class::SQL-&gt;new(<div class="calls"><div class="calls_out">    # spent    44&micro;s making 1 call to <a >SimpleDB::Class::SQL::new</a>
    # spent     5&micro;s making 1 call to <a >SimpleDB::Class::Domain::item_class</a>
    # spent     5&micro;s making 1 call to <a >SimpleDB::Class::Domain::simpledb</a></div></div></td></tr>
<tr><td class="h"><a name="291"></a>291</td><td></td><td></td><td></td><td></td><td class="s">        item_class  =&gt; $self-&gt;item_class,</td></tr>
<tr><td class="h"><a name="292"></a>292</td><td></td><td></td><td></td><td></td><td class="s">        simpledb    =&gt; $self-&gt;simpledb,</td></tr>
<tr><td class="h"><a name="293"></a>293</td><td></td><td></td><td></td><td></td><td class="s">        where       =&gt; $options{where},</td></tr>
<tr><td class="h"><a name="294"></a>294</td><td></td><td></td><td></td><td></td><td class="s">        output      =&gt; 'itemName()',</td></tr>
<tr><td class="h"><a name="295"></a>295</td><td></td><td></td><td></td><td></td><td class="s">    );</td></tr>
<tr><td class="h"><a name="296"></a>296</td><td></td><td></td><td></td><td></td><td class="s">    my %params = ( SelectExpression    =&gt; $select-&gt;to_sql );<div class="calls"><div class="calls_out">    # spent   353&micro;s making 1 call to <a href="lib-SimpleDB-Class-SQL-pm-block.html#353">SimpleDB::Class::SQL::to_sql</a></div></div></td></tr>
<tr><td class="h"><a name="297"></a>297</td><td></td><td></td><td></td><td></td><td class="s">    if ($options{consistent}) {</td></tr>
<tr><td class="h"><a name="298"></a>298</td><td></td><td></td><td></td><td></td><td class="s">        $params{ConsistentRead} = 'true';</td></tr>
<tr><td class="h"><a name="299"></a>299</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="300"></a>300</td><td></td><td></td><td></td><td></td><td class="s">    my $result = $self-&gt;simpledb-&gt;http-&gt;send_request('Select', \%params);<div class="calls"><div class="calls_out">    # spent  52.6ms making 1 call to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>
    # spent     5&micro;s making 1 call to <a >SimpleDB::Class::http</a>
    # spent     1&micro;s making 1 call to <a >SimpleDB::Class::Domain::simpledb</a></div></div></td></tr>
<tr><td class="h"><a name="301"></a>301</td><td></td><td></td><td></td><td></td><td class="s">    my $items = $result-&gt;{SelectResult}{Item};</td></tr>
<tr><td class="h"><a name="302"></a>302</td><td></td><td></td><td></td><td></td><td class="s">    my @ids;</td></tr>
<tr><td class="h"><a name="303"></a>303</td><td></td><td></td><td></td><td></td><td class="s">    foreach my $item (@{$items}) {</td></tr>
<tr><td class="h"><a name="304"></a>304</td><td class="c3">3</td><td class="c3"><span title="Avg 2&micro;s">5&micro;s</span></td><td></td><td></td><td class="s">        push @ids, $item-&gt;{Name};</td></tr>
<tr><td class="h"><a name="305"></a>305</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="306"></a>306</td><td></td><td></td><td></td><td></td><td class="s">    return \@ids;</td></tr>
<tr><td class="h"><a name="307"></a>307</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="308"></a>308</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="309"></a>309</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="310"></a>310</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="311"></a>311</td><td></td><td></td><td></td><td></td><td class="s">=head2 max ( attribute, [ options ] )</td></tr>
<tr><td class="h"><a name="312"></a>312</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="313"></a>313</td><td></td><td></td><td></td><td></td><td class="s">Returns the maximum value of an attribute.</td></tr>
<tr><td class="h"><a name="314"></a>314</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="315"></a>315</td><td></td><td></td><td></td><td></td><td class="s">WARNING: With this method you need to be aware that SimpleDB is eventually consistent. See L&lt;SimpleDB::Class/&quot;Eventual Consistency&quot;&gt; for details.</td></tr>
<tr><td class="h"><a name="316"></a>316</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="317"></a>317</td><td></td><td></td><td></td><td></td><td class="s">=head3 attribute</td></tr>
<tr><td class="h"><a name="318"></a>318</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="319"></a>319</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute to find the maximum value of.</td></tr>
<tr><td class="h"><a name="320"></a>320</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="321"></a>321</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="322"></a>322</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="323"></a>323</td><td></td><td></td><td></td><td></td><td class="s">A hash of options to modify the search.</td></tr>
<tr><td class="h"><a name="324"></a>324</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="325"></a>325</td><td></td><td></td><td></td><td></td><td class="s">=head4 where</td></tr>
<tr><td class="h"><a name="326"></a>326</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="327"></a>327</td><td></td><td></td><td></td><td></td><td class="s">A where clause as defined by L&lt;SimpleDB::Class::SQL&gt;. An optional clause to limit the range of the maximum value.</td></tr>
<tr><td class="h"><a name="328"></a>328</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="329"></a>329</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="330"></a>330</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="331"></a>331</td><td></td><td></td><td></td><td></td><td class="s">A boolean that if set true will get around Eventual Consistency, but at a reduced performance.</td></tr>
<tr><td class="h"><a name="332"></a>332</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="333"></a>333</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="334"></a>334</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="335"></a>335</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 157ms (183&micro;s+157) within SimpleDB::Class::Domain::max which was called 2 times, avg 78.4ms/call:
#    once (104&micro;s+85.1ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#46">line 46 of 05.Domain_and_Item.t</a>
#    once (79&micro;s+71.5ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#48">line 48 of 05.Domain_and_Item.t</a></div></div>sub max {</td></tr>
<tr><td class="h"><a name="336"></a>336</td><td class="c0">18</td><td class="c1"><span title="Avg 8&micro;s">150&micro;s</span></td><td></td><td></td><td class="s">    my ($self, $attribute, %options) = @_;</td></tr>
<tr><td class="h"><a name="337"></a>337</td><td></td><td></td><td></td><td></td><td class="s">    my $where = {</td></tr>
<tr><td class="h"><a name="338"></a>338</td><td></td><td></td><td></td><td></td><td class="s">        $attribute =&gt; ['!=','-1000001'],</td></tr>
<tr><td class="h"><a name="339"></a>339</td><td></td><td></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="340"></a>340</td><td></td><td></td><td></td><td></td><td class="s">    if (ref $options{where} eq 'HASH') {</td></tr>
<tr><td class="h"><a name="341"></a>341</td><td></td><td></td><td></td><td></td><td class="s">        $where-&gt;{'-and'} = $options{where};</td></tr>
<tr><td class="h"><a name="342"></a>342</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="343"></a>343</td><td></td><td></td><td></td><td></td><td class="s">    my $select = SimpleDB::Class::SQL-&gt;new(<div class="calls"><div class="calls_out">    # spent   103&micro;s making 2 calls to <a >SimpleDB::Class::SQL::new</a>, avg 52&micro;s/call
    # spent    10&micro;s making 2 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 5&micro;s/call
    # spent     7&micro;s making 2 calls to <a >SimpleDB::Class::Domain::item_class</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="344"></a>344</td><td></td><td></td><td></td><td></td><td class="s">        simpledb    =&gt; $self-&gt;simpledb,</td></tr>
<tr><td class="h"><a name="345"></a>345</td><td></td><td></td><td></td><td></td><td class="s">        item_class  =&gt; $self-&gt;item_class,</td></tr>
<tr><td class="h"><a name="346"></a>346</td><td></td><td></td><td></td><td></td><td class="s">        where       =&gt; $where,</td></tr>
<tr><td class="h"><a name="347"></a>347</td><td></td><td></td><td></td><td></td><td class="s">        limit       =&gt; 1,</td></tr>
<tr><td class="h"><a name="348"></a>348</td><td></td><td></td><td></td><td></td><td class="s">        order_by    =&gt; [$attribute],</td></tr>
<tr><td class="h"><a name="349"></a>349</td><td></td><td></td><td></td><td></td><td class="s">        output      =&gt; $attribute,</td></tr>
<tr><td class="h"><a name="350"></a>350</td><td></td><td></td><td></td><td></td><td class="s">    );</td></tr>
<tr><td class="h"><a name="351"></a>351</td><td></td><td></td><td></td><td></td><td class="s">    my %params = ( SelectExpression    =&gt; $select-&gt;to_sql );<div class="calls"><div class="calls_out">    # spent  1.39ms making 2 calls to <a href="lib-SimpleDB-Class-SQL-pm-block.html#353">SimpleDB::Class::SQL::to_sql</a>, avg 697&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="352"></a>352</td><td></td><td></td><td></td><td></td><td class="s">    if ($options{consistent}) {</td></tr>
<tr><td class="h"><a name="353"></a>353</td><td></td><td></td><td></td><td></td><td class="s">        $params{ConsistentRead} = 'true';</td></tr>
<tr><td class="h"><a name="354"></a>354</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="355"></a>355</td><td></td><td></td><td></td><td></td><td class="s">    my $result = $self-&gt;simpledb-&gt;http-&gt;send_request('Select', \%params);<div class="calls"><div class="calls_out">    # spent   144ms making 2 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 72.2ms/call
    # spent    11&micro;s making 2 calls to <a >SimpleDB::Class::http</a>, avg 5&micro;s/call
    # spent     4&micro;s making 2 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="356"></a>356</td><td></td><td></td><td></td><td></td><td class="s">    my $value = $result-&gt;{SelectResult}{Item}[0]{Attribute}{Value};</td></tr>
<tr><td class="h"><a name="357"></a>357</td><td></td><td></td><td></td><td></td><td class="s">    return $self-&gt;item_class-&gt;parse_value($attribute, $value);<div class="calls"><div class="calls_out">    # spent  10.8ms making 2 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#536">SimpleDB::Class::Item::parse_value</a>, avg 5.39ms/call
    # spent    10&micro;s making 2 calls to <a >SimpleDB::Class::Domain::item_class</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="358"></a>358</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="359"></a>359</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="360"></a>360</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="361"></a>361</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="362"></a>362</td><td></td><td></td><td></td><td></td><td class="s">=head2 min ( attribute, [ options ] )</td></tr>
<tr><td class="h"><a name="363"></a>363</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="364"></a>364</td><td></td><td></td><td></td><td></td><td class="s">Returns the minimum value of an attribute.</td></tr>
<tr><td class="h"><a name="365"></a>365</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="366"></a>366</td><td></td><td></td><td></td><td></td><td class="s">WARNING: With this method you need to be aware that SimpleDB is eventually consistent. See L&lt;SimpleDB::Class/&quot;Eventual Consistency&quot;&gt; for details.</td></tr>
<tr><td class="h"><a name="367"></a>367</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="368"></a>368</td><td></td><td></td><td></td><td></td><td class="s">=head3 attribute</td></tr>
<tr><td class="h"><a name="369"></a>369</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="370"></a>370</td><td></td><td></td><td></td><td></td><td class="s">The name of the attribute to find the minimum value of.</td></tr>
<tr><td class="h"><a name="371"></a>371</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="372"></a>372</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="373"></a>373</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="374"></a>374</td><td></td><td></td><td></td><td></td><td class="s">A hash of extra options to modify the search.</td></tr>
<tr><td class="h"><a name="375"></a>375</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="376"></a>376</td><td></td><td></td><td></td><td></td><td class="s">=head4 where</td></tr>
<tr><td class="h"><a name="377"></a>377</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="378"></a>378</td><td></td><td></td><td></td><td></td><td class="s">A where clause as defined by L&lt;SimpleDB::Class::SQL&gt;. An optional clause to limit the range of the minimum value.</td></tr>
<tr><td class="h"><a name="379"></a>379</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="380"></a>380</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="381"></a>381</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="382"></a>382</td><td></td><td></td><td></td><td></td><td class="s">A boolean that if set true will get around Eventual Consistency, but at a reduced performance.</td></tr>
<tr><td class="h"><a name="383"></a>383</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="384"></a>384</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="385"></a>385</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="386"></a>386</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 129ms (138&micro;s+129) within SimpleDB::Class::Domain::min which was called 2 times, avg 64.6ms/call:
#    once (75&micro;s+72.1ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#47">line 47 of 05.Domain_and_Item.t</a>
#    once (64&micro;s+56.9ms) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#49">line 49 of 05.Domain_and_Item.t</a></div></div>sub min {</td></tr>
<tr><td class="h"><a name="387"></a>387</td><td class="c0">18</td><td class="c2"><span title="Avg 7&micro;s">118&micro;s</span></td><td></td><td></td><td class="s">    my ($self, $attribute, %options) = @_;</td></tr>
<tr><td class="h"><a name="388"></a>388</td><td></td><td></td><td></td><td></td><td class="s">    my $where = {</td></tr>
<tr><td class="h"><a name="389"></a>389</td><td></td><td></td><td></td><td></td><td class="s">        $attribute =&gt; ['!=','-1000001'],</td></tr>
<tr><td class="h"><a name="390"></a>390</td><td></td><td></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="391"></a>391</td><td></td><td></td><td></td><td></td><td class="s">    if (ref $options{where} eq 'HASH') {</td></tr>
<tr><td class="h"><a name="392"></a>392</td><td></td><td></td><td></td><td></td><td class="s">        $where-&gt;{'-and'} = $options{where};</td></tr>
<tr><td class="h"><a name="393"></a>393</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="394"></a>394</td><td></td><td></td><td></td><td></td><td class="s">    my $select = SimpleDB::Class::SQL-&gt;new(<div class="calls"><div class="calls_out">    # spent    82&micro;s making 2 calls to <a >SimpleDB::Class::SQL::new</a>, avg 41&micro;s/call
    # spent     8&micro;s making 2 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 4&micro;s/call
    # spent     5&micro;s making 2 calls to <a >SimpleDB::Class::Domain::item_class</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="395"></a>395</td><td></td><td></td><td></td><td></td><td class="s">        simpledb    =&gt; $self-&gt;simpledb,</td></tr>
<tr><td class="h"><a name="396"></a>396</td><td></td><td></td><td></td><td></td><td class="s">        item_class  =&gt; $self-&gt;item_class,</td></tr>
<tr><td class="h"><a name="397"></a>397</td><td></td><td></td><td></td><td></td><td class="s">        where       =&gt; $where,</td></tr>
<tr><td class="h"><a name="398"></a>398</td><td></td><td></td><td></td><td></td><td class="s">        limit       =&gt; 1,</td></tr>
<tr><td class="h"><a name="399"></a>399</td><td></td><td></td><td></td><td></td><td class="s">        order_by    =&gt; $attribute,</td></tr>
<tr><td class="h"><a name="400"></a>400</td><td></td><td></td><td></td><td></td><td class="s">        output      =&gt; $attribute,</td></tr>
<tr><td class="h"><a name="401"></a>401</td><td></td><td></td><td></td><td></td><td class="s">    );</td></tr>
<tr><td class="h"><a name="402"></a>402</td><td></td><td></td><td></td><td></td><td class="s">    my %params = ( SelectExpression    =&gt; $select-&gt;to_sql );<div class="calls"><div class="calls_out">    # spent  1.19ms making 2 calls to <a href="lib-SimpleDB-Class-SQL-pm-block.html#353">SimpleDB::Class::SQL::to_sql</a>, avg 593&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="403"></a>403</td><td></td><td></td><td></td><td></td><td class="s">    if ($options{consistent}) {</td></tr>
<tr><td class="h"><a name="404"></a>404</td><td></td><td></td><td></td><td></td><td class="s">        $params{ConsistentRead} = 'true';</td></tr>
<tr><td class="h"><a name="405"></a>405</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="406"></a>406</td><td></td><td></td><td></td><td></td><td class="s">    my $result = $self-&gt;simpledb-&gt;http-&gt;send_request('Select', \%params);<div class="calls"><div class="calls_out">    # spent   127ms making 2 calls to <a href="SimpleDB-Client-pm-block.html#206">SimpleDB::Client::send_request</a>, avg 63.6ms/call
    # spent    10&micro;s making 2 calls to <a >SimpleDB::Class::http</a>, avg 5&micro;s/call
    # spent     3&micro;s making 2 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 2&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="407"></a>407</td><td></td><td></td><td></td><td></td><td class="s">    my $value = $result-&gt;{SelectResult}{Item}[0]{Attribute}{Value};</td></tr>
<tr><td class="h"><a name="408"></a>408</td><td></td><td></td><td></td><td></td><td class="s">    return $self-&gt;item_class-&gt;parse_value($attribute, $value);<div class="calls"><div class="calls_out">    # spent   455&micro;s making 2 calls to <a href="lib-SimpleDB-Class-Item-pm-block.html#536">SimpleDB::Class::Item::parse_value</a>, avg 227&micro;s/call
    # spent     9&micro;s making 2 calls to <a >SimpleDB::Class::Domain::item_class</a>, avg 5&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="409"></a>409</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="410"></a>410</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="411"></a>411</td><td></td><td></td><td></td><td></td><td class="s">#--------------------------------------------------------</td></tr>
<tr><td class="h"><a name="412"></a>412</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="413"></a>413</td><td></td><td></td><td></td><td></td><td class="s">=head2 search ( options )</td></tr>
<tr><td class="h"><a name="414"></a>414</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="415"></a>415</td><td></td><td></td><td></td><td></td><td class="s">Returns a L&lt;SimpleDB::Class::ResultSet&gt; object. </td></tr>
<tr><td class="h"><a name="416"></a>416</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="417"></a>417</td><td></td><td></td><td></td><td></td><td class="s">WARNING: With this method you need to be aware that SimpleDB is eventually consistent. See L&lt;SimpleDB::Class/&quot;Eventual Consistency&quot;&gt; for details.</td></tr>
<tr><td class="h"><a name="418"></a>418</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="419"></a>419</td><td></td><td></td><td></td><td></td><td class="s">=head3 options</td></tr>
<tr><td class="h"><a name="420"></a>420</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="421"></a>421</td><td></td><td></td><td></td><td></td><td class="s">A hash of options to set up the search.</td></tr>
<tr><td class="h"><a name="422"></a>422</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="423"></a>423</td><td></td><td></td><td></td><td></td><td class="s">=head4 where</td></tr>
<tr><td class="h"><a name="424"></a>424</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="425"></a>425</td><td></td><td></td><td></td><td></td><td class="s">A where clause as defined by L&lt;SimpleDB::Class::SQL&gt;.</td></tr>
<tr><td class="h"><a name="426"></a>426</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="427"></a>427</td><td></td><td></td><td></td><td></td><td class="s">=head4 order_by</td></tr>
<tr><td class="h"><a name="428"></a>428</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="429"></a>429</td><td></td><td></td><td></td><td></td><td class="s">An order by clause as defined by L&lt;SimpleDB::Class::SQL&gt;.</td></tr>
<tr><td class="h"><a name="430"></a>430</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="431"></a>431</td><td></td><td></td><td></td><td></td><td class="s">=head4 limit</td></tr>
<tr><td class="h"><a name="432"></a>432</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="433"></a>433</td><td></td><td></td><td></td><td></td><td class="s">A limit clause as defined by L&lt;SimpleDB::Class::SQL&gt;.</td></tr>
<tr><td class="h"><a name="434"></a>434</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="435"></a>435</td><td></td><td></td><td></td><td></td><td class="s">=head4 consistent</td></tr>
<tr><td class="h"><a name="436"></a>436</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="437"></a>437</td><td></td><td></td><td></td><td></td><td class="s">A boolean that if set true will get around Eventual Consistency, but at a reduced performance.</td></tr>
<tr><td class="h"><a name="438"></a>438</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="439"></a>439</td><td></td><td></td><td></td><td></td><td class="s">=head4 set </td></tr>
<tr><td class="h"><a name="440"></a>440</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="441"></a>441</td><td></td><td></td><td></td><td></td><td class="s">A hash reference of attribute names paired with values that should be set as soon as the item is instantiated. This is useful for prefilling cache attributes as items come off the result set, and is used by the C&lt;has_many&gt; method for that purpose. Doing so prevents stale object references.</td></tr>
<tr><td class="h"><a name="442"></a>442</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="443"></a>443</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="444"></a>444</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="445"></a>445</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 1.71ms (234&micro;s+1.47) within SimpleDB::Class::Domain::search which was called 10 times, avg 171&micro;s/call:
# 3 times (55&micro;s+370&micro;s) by Foo::Domain::children or Foo::Parent::domains at <a href="lib-SimpleDB-Class-Item-pm-block.html#207">line 207 of ../lib/SimpleDB/Class/Item.pm</a>, avg 142&micro;s/call
#    once (39&micro;s+171&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#51">line 51 of 05.Domain_and_Item.t</a>
#    once (32&micro;s+177&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#118">line 118 of 05.Domain_and_Item.t</a>
#    once (22&micro;s+171&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#61">line 61 of 05.Domain_and_Item.t</a>
#    once (23&micro;s+166&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#68">line 68 of 05.Domain_and_Item.t</a>
#    once (20&micro;s+144&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#132">line 132 of 05.Domain_and_Item.t</a>
#    once (21&micro;s+137&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#70">line 70 of 05.Domain_and_Item.t</a>
#    once (21&micro;s+136&micro;s) by main::RUNTIME at <a href="05-Domain_and_Item-t-block.html#58">line 58 of 05.Domain_and_Item.t</a></div></div>sub search {</td></tr>
<tr><td class="h"><a name="446"></a>446</td><td class="c0">40</td><td class="c1"><span title="Avg 5&micro;s">202&micro;s</span></td><td></td><td></td><td class="s">    my ($self, %options) = @_;</td></tr>
<tr><td class="h"><a name="447"></a>447</td><td></td><td></td><td></td><td></td><td class="s">    $options{simpledb} = $self-&gt;simpledb;<div class="calls"><div class="calls_out">    # spent    35&micro;s making 10 calls to <a >SimpleDB::Class::Domain::simpledb</a>, avg 4&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="448"></a>448</td><td></td><td></td><td></td><td></td><td class="s">    $options{item_class} = $self-&gt;item_class;<div class="calls"><div class="calls_out">    # spent    33&micro;s making 10 calls to <a >SimpleDB::Class::Domain::item_class</a>, avg 3&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="449"></a>449</td><td></td><td></td><td></td><td></td><td class="s">    return SimpleDB::Class::ResultSet-&gt;new(%options);<div class="calls"><div class="calls_out">    # spent  1.41ms making 10 calls to <a >SimpleDB::Class::ResultSet::new</a>, avg 141&micro;s/call</div></div></td></tr>
<tr><td class="h"><a name="450"></a>450</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="451"></a>451</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="452"></a>452</td><td></td><td></td><td></td><td></td><td class="s">=head1 LEGAL</td></tr>
<tr><td class="h"><a name="453"></a>453</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="454"></a>454</td><td></td><td></td><td></td><td></td><td class="s">SimpleDB::Class is Copyright 2009-2010 Plain Black Corporation (L&lt;http://www.plainblack.com/&gt;) and is licensed under the same terms as Perl itself.</td></tr>
<tr><td class="h"><a name="455"></a>455</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="456"></a>456</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="457"></a>457</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="458"></a>458</td><td class="c3">3</td><td class="c3"><span title="Avg 20&micro;s">60&micro;s</span></td><td class="c1">2</td><td class="c3">248&micro;s</td><td class="s"><div class="calls"><div class="calls_in"># spent 129&micro;s (10+119) within SimpleDB::Class::Domain::BEGIN@458 which was called
#    once (10&micro;s+119&micro;s) by SimpleDB::Class::BEGIN@141 at <a href="lib-SimpleDB-Class-Domain-pm-block.html#458">line 458</a></div></div>no Moose;<div class="calls"><div class="calls_out"># spent   129&micro;s making 1 call to <a href="lib-SimpleDB-Class-Domain-pm-block.html#458">SimpleDB::Class::Domain::BEGIN@458</a>
# spent   119&micro;s making 1 call to <a href="Moose-Exporter-pm-block.html#470">Moose::Exporter::__ANON__[Moose/Exporter.pm:478]</a></div></div></td></tr>
<tr><td class="h"><a name="459"></a>459</td><td class="c3">1</td><td class="c3"><span title="Avg 46&micro;s">46&micro;s</span></td><td class="c1">2</td><td class="c3">2.52ms</td><td class="s">__PACKAGE__-&gt;meta-&gt;make_immutable;<div class="calls"><div class="calls_out"># spent  2.50ms making 1 call to <a href="Class-MOP-Class-pm-block.html#888">Class::MOP::Class::make_immutable</a>
# spent    17&micro;s making 1 call to <a >SimpleDB::Class::Domain::meta</a></div></div></td></tr>
</tbody></table></div>
        
            <script type="text/javascript"> $(document).ready(function() { 

        $("#subs_table").tablesorter({
            sortList: [[3,1]],
            headers: {
                3: { sorter: 'fmt_time' },
                4: { sorter: 'fmt_time' }
            }
        });
    
 } ); </script>
        
        <div class="footer">Report produced by the
        <a href="http://search.cpan.org/dist/Devel-NYTProf/">NYTProf 3.11</a>
        Perl profiler, developed by
        <a href="http://www.linkedin.com/in/timbunce">Tim Bunce</a> and
        <a href="http://code.nytimes.com">Adam Kaplan</a>.
        </div>
        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    </body></html>